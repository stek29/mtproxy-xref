<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>net-connections.h source code [MTProxy/net/net-connections.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="conn_functions,conn_target_info,connection_info,connections_stat,free_later,listening_connection_info,query_info,socket_connection_info "/>
<link rel="stylesheet" href="../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'MTProxy/net/net-connections.h'; var root_path = '../..'; var data_path = '../../data';</script>
<script src='../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='..'>MTProxy</a>/<a href='./'>net</a>/<a href='net-connections.h.html'>net-connections.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i>    This file is part of Mtproto-proxy Library.</i></td></tr>
<tr><th id="3">3</th><td><i></i></td></tr>
<tr><th id="4">4</th><td><i>    Mtproto-proxy Library is free software: you can redistribute it and/or modify</i></td></tr>
<tr><th id="5">5</th><td><i>    it under the terms of the GNU Lesser General Public License as published by</i></td></tr>
<tr><th id="6">6</th><td><i>    the Free Software Foundation, either version 2 of the License, or</i></td></tr>
<tr><th id="7">7</th><td><i>    (at your option) any later version.</i></td></tr>
<tr><th id="8">8</th><td><i></i></td></tr>
<tr><th id="9">9</th><td><i>    Mtproto-proxy Library is distributed in the hope that it will be useful,</i></td></tr>
<tr><th id="10">10</th><td><i>    but WITHOUT ANY WARRANTY; without even the implied warranty of</i></td></tr>
<tr><th id="11">11</th><td><i>    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</i></td></tr>
<tr><th id="12">12</th><td><i>    GNU Lesser General Public License for more details.</i></td></tr>
<tr><th id="13">13</th><td><i></i></td></tr>
<tr><th id="14">14</th><td><i>    You should have received a copy of the GNU Lesser General Public License</i></td></tr>
<tr><th id="15">15</th><td><i>    along with Mtproto-proxy Library.  If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</i></td></tr>
<tr><th id="16">16</th><td><i></i></td></tr>
<tr><th id="17">17</th><td><i>    Copyright 2009-2013 Vkontakte Ltd</i></td></tr>
<tr><th id="18">18</th><td><i>              2008-2013 Nikolai Durov</i></td></tr>
<tr><th id="19">19</th><td><i>              2008-2013 Andrey Lopatin</i></td></tr>
<tr><th id="20">20</th><td><i>    </i></td></tr>
<tr><th id="21">21</th><td><i>    Copyright 2014      Telegram Messenger Inc             </i></td></tr>
<tr><th id="22">22</th><td><i>              2014      Nikolai Durov</i></td></tr>
<tr><th id="23">23</th><td><i>              2014      Andrey Lopatin</i></td></tr>
<tr><th id="24">24</th><td><i></i></td></tr>
<tr><th id="25">25</th><td><i>    Copyright 2015-2016 Telegram Messenger Inc</i></td></tr>
<tr><th id="26">26</th><td><i>              2015-2016 Vitaly Valtman</i></td></tr>
<tr><th id="27">27</th><td><i>*/</i></td></tr>
<tr><th id="28">28</th><td></td></tr>
<tr><th id="29">29</th><td><u>#pragma once</u></td></tr>
<tr><th id="30">30</th><td></td></tr>
<tr><th id="31">31</th><td><i>//#include "net/net-buffers.h"</i></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="net-events.h.html">"net/net-events.h"</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="net-msg.h.html">"net/net-msg.h"</a></u></td></tr>
<tr><th id="34">34</th><td><u>#include <a href="../jobs/jobs.h.html">"jobs/jobs.h"</a></u></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="../common/mp-queue.h.html">"common/mp-queue.h"</a></u></td></tr>
<tr><th id="36">36</th><td><u>#include <a href="../common/pid.h.html">"common/pid.h"</a></u></td></tr>
<tr><th id="37">37</th><td></td></tr>
<tr><th id="38">38</th><td><u>#define <dfn class="macro" id="_M/MAX_CONNECTIONS" data-ref="_M/MAX_CONNECTIONS">MAX_CONNECTIONS</dfn>	65536</u></td></tr>
<tr><th id="39">39</th><td><u>#define <dfn class="macro" id="_M/MAX_TARGETS" data-ref="_M/MAX_TARGETS">MAX_TARGETS</dfn>	65536</u></td></tr>
<tr><th id="40">40</th><td><u>#define <dfn class="macro" id="_M/PRIME_TARGETS" data-ref="_M/PRIME_TARGETS">PRIME_TARGETS</dfn>	99961</u></td></tr>
<tr><th id="41">41</th><td><u>#define <dfn class="macro" id="_M/MAX_SPECIAL_LISTEN_SOCKETS" data-ref="_M/MAX_SPECIAL_LISTEN_SOCKETS">MAX_SPECIAL_LISTEN_SOCKETS</dfn>	64</u></td></tr>
<tr><th id="42">42</th><td></td></tr>
<tr><th id="43">43</th><td><u>#define <dfn class="macro" id="_M/MAX_TCP_RECV_BUFFERS" data-ref="_M/MAX_TCP_RECV_BUFFERS">MAX_TCP_RECV_BUFFERS</dfn> 128</u></td></tr>
<tr><th id="44">44</th><td><u>#define <dfn class="macro" id="_M/TCP_RECV_BUFFER_SIZE" data-ref="_M/TCP_RECV_BUFFER_SIZE">TCP_RECV_BUFFER_SIZE</dfn> 1024</u></td></tr>
<tr><th id="45">45</th><td></td></tr>
<tr><th id="46">46</th><td><u>#define <dfn class="macro" id="_M/MAX_NET_RES" data-ref="_M/MAX_NET_RES">MAX_NET_RES</dfn>	(1L &lt;&lt; 16)</u></td></tr>
<tr><th id="47">47</th><td></td></tr>
<tr><th id="48">48</th><td><i>//#define BUFF_SIZE	2048</i></td></tr>
<tr><th id="49">49</th><td></td></tr>
<tr><th id="50">50</th><td><u>#define	<dfn class="macro" id="_M/CONN_CUSTOM_DATA_BYTES" data-ref="_M/CONN_CUSTOM_DATA_BYTES">CONN_CUSTOM_DATA_BYTES</dfn>	256</u></td></tr>
<tr><th id="51">51</th><td></td></tr>
<tr><th id="52">52</th><td><u>#define	<dfn class="macro" id="_M/NEED_MORE_BYTES" data-ref="_M/NEED_MORE_BYTES">NEED_MORE_BYTES</dfn>	(~(-1 &lt;&lt; 31))</u></td></tr>
<tr><th id="53">53</th><td><u>#define	<dfn class="macro" id="_M/SKIP_ALL_BYTES" data-ref="_M/SKIP_ALL_BYTES">SKIP_ALL_BYTES</dfn>	(-1 &lt;&lt; 31)</u></td></tr>
<tr><th id="54">54</th><td></td></tr>
<tr><th id="55">55</th><td></td></tr>
<tr><th id="56">56</th><td><i>/* for connection flags */</i></td></tr>
<tr><th id="57">57</th><td><u>#define	<dfn class="macro" id="_M/C_WANTRD" data-ref="_M/C_WANTRD">C_WANTRD</dfn>	1</u></td></tr>
<tr><th id="58">58</th><td><u>#define	<dfn class="macro" id="_M/C_WANTWR" data-ref="_M/C_WANTWR">C_WANTWR</dfn>	2</u></td></tr>
<tr><th id="59">59</th><td><u>#define	<dfn class="macro" id="_M/C_WANTRW" data-ref="_M/C_WANTRW">C_WANTRW</dfn>	(C_WANTRD | C_WANTWR)</u></td></tr>
<tr><th id="60">60</th><td><u>#define	<dfn class="macro" id="_M/C_INCONN" data-ref="_M/C_INCONN">C_INCONN</dfn>	4</u></td></tr>
<tr><th id="61">61</th><td><u>#define	<dfn class="macro" id="_M/C_ERROR" data-ref="_M/C_ERROR">C_ERROR</dfn>		8</u></td></tr>
<tr><th id="62">62</th><td><u>#define	<dfn class="macro" id="_M/C_NORD" data-ref="_M/C_NORD">C_NORD</dfn>		0x10</u></td></tr>
<tr><th id="63">63</th><td><u>#define	<dfn class="macro" id="_M/C_NOWR" data-ref="_M/C_NOWR">C_NOWR</dfn>		0x20</u></td></tr>
<tr><th id="64">64</th><td><u>#define	<dfn class="macro" id="_M/C_NORW" data-ref="_M/C_NORW">C_NORW</dfn>		(C_NORD | C_NOWR)</u></td></tr>
<tr><th id="65">65</th><td><u>#define	<dfn class="macro" id="_M/C_INQUERY" data-ref="_M/C_INQUERY">C_INQUERY</dfn>	0x40</u></td></tr>
<tr><th id="66">66</th><td><u>#define	<dfn class="macro" id="_M/C_FAILED" data-ref="_M/C_FAILED">C_FAILED</dfn>	0x80</u></td></tr>
<tr><th id="67">67</th><td><u>#define	<dfn class="macro" id="_M/C_ALARM" data-ref="_M/C_ALARM">C_ALARM</dfn>		0x100</u></td></tr>
<tr><th id="68">68</th><td><u>#define <dfn class="macro" id="_M/C_AIO" data-ref="_M/C_AIO">C_AIO</dfn>		0x200</u></td></tr>
<tr><th id="69">69</th><td><u>#define <dfn class="macro" id="_M/C_INTIMEOUT" data-ref="_M/C_INTIMEOUT">C_INTIMEOUT</dfn>	0x400</u></td></tr>
<tr><th id="70">70</th><td><u>#define	<dfn class="macro" id="_M/C_STOPREAD" data-ref="_M/C_STOPREAD">C_STOPREAD</dfn>	0x800</u></td></tr>
<tr><th id="71">71</th><td><u>#define	<dfn class="macro" id="_M/C_REPARSE" data-ref="_M/C_REPARSE">C_REPARSE</dfn>	0x1000</u></td></tr>
<tr><th id="72">72</th><td><u>#define <dfn class="macro" id="_M/C_DFLUSH" data-ref="_M/C_DFLUSH">C_DFLUSH</dfn>	0x2000</u></td></tr>
<tr><th id="73">73</th><td><u>#define	<dfn class="macro" id="_M/C_IPV6" data-ref="_M/C_IPV6">C_IPV6</dfn>		0x4000</u></td></tr>
<tr><th id="74">74</th><td><u>#define <dfn class="macro" id="_M/C_EXTERNAL" data-ref="_M/C_EXTERNAL">C_EXTERNAL</dfn>     	0x8000</u></td></tr>
<tr><th id="75">75</th><td><u>#define <dfn class="macro" id="_M/C_SPECIAL" data-ref="_M/C_SPECIAL">C_SPECIAL</dfn>	0x10000</u></td></tr>
<tr><th id="76">76</th><td><u>#define	<dfn class="macro" id="_M/C_NOQACK" data-ref="_M/C_NOQACK">C_NOQACK</dfn>	0x20000</u></td></tr>
<tr><th id="77">77</th><td><u>#define	<dfn class="macro" id="_M/C_RAWMSG" data-ref="_M/C_RAWMSG">C_RAWMSG</dfn>	0x40000</u></td></tr>
<tr><th id="78">78</th><td><u>#define <dfn class="macro" id="_M/C_NET_FAILED" data-ref="_M/C_NET_FAILED">C_NET_FAILED</dfn> 0x80000</u></td></tr>
<tr><th id="79">79</th><td><u>#define	<dfn class="macro" id="_M/C_CRYPTOIN" data-ref="_M/C_CRYPTOIN">C_CRYPTOIN</dfn>	0x100000</u></td></tr>
<tr><th id="80">80</th><td><u>#define	<dfn class="macro" id="_M/C_CRYPTOOUT" data-ref="_M/C_CRYPTOOUT">C_CRYPTOOUT</dfn>	0x200000</u></td></tr>
<tr><th id="81">81</th><td><u>#define <dfn class="macro" id="_M/C_STOPPARSE" data-ref="_M/C_STOPPARSE">C_STOPPARSE</dfn> 0x400000</u></td></tr>
<tr><th id="82">82</th><td><u>#define <dfn class="macro" id="_M/C_ISDH" data-ref="_M/C_ISDH">C_ISDH</dfn>		0x800000</u></td></tr>
<tr><th id="83">83</th><td><u>#define <dfn class="macro" id="_M/C_READY_PENDING" data-ref="_M/C_READY_PENDING">C_READY_PENDING</dfn> 0x1000000</u></td></tr>
<tr><th id="84">84</th><td><u>#define <dfn class="macro" id="_M/C_CONNECTED" data-ref="_M/C_CONNECTED">C_CONNECTED</dfn> 0x2000000</u></td></tr>
<tr><th id="85">85</th><td><u>#define	<dfn class="macro" id="_M/C_STOPWRITE" data-ref="_M/C_STOPWRITE">C_STOPWRITE</dfn>	0x4000000</u></td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td><u>#define <dfn class="macro" id="_M/C_PERMANENT" data-ref="_M/C_PERMANENT">C_PERMANENT</dfn> (C_IPV6 | C_RAWMSG)</u></td></tr>
<tr><th id="88">88</th><td><i>/* for connection status */</i></td></tr>
<tr><th id="89">89</th><td><b>enum</b> {</td></tr>
<tr><th id="90">90</th><td>  <dfn class="enum" id="conn_none" title='conn_none' data-ref="conn_none">conn_none</dfn>,		<i>// closed/uninitialized</i></td></tr>
<tr><th id="91">91</th><td>  <dfn class="enum" id="conn_connecting" title='conn_connecting' data-ref="conn_connecting">conn_connecting</dfn>,</td></tr>
<tr><th id="92">92</th><td>  <dfn class="enum" id="conn_working" title='conn_working' data-ref="conn_working">conn_working</dfn>,</td></tr>
<tr><th id="93">93</th><td>  <dfn class="enum" id="conn_error" title='conn_error' data-ref="conn_error">conn_error</dfn>,		<i>// connection in bad state (it will be probably closed)</i></td></tr>
<tr><th id="94">94</th><td>  <dfn class="enum" id="conn_listen" title='conn_listen' data-ref="conn_listen">conn_listen</dfn>,		<i>// listening for inbound connections</i></td></tr>
<tr><th id="95">95</th><td>  <dfn class="enum" id="conn_write_close" title='conn_write_close' data-ref="conn_write_close">conn_write_close</dfn>,	<i>// write all output buffer, then close; don't read input</i></td></tr>
<tr><th id="96">96</th><td>  <dfn class="enum" id="conn_total_states" title='conn_total_states' data-ref="conn_total_states">conn_total_states</dfn>	<i>// total number of connection states</i></td></tr>
<tr><th id="97">97</th><td>};</td></tr>
<tr><th id="98">98</th><td></td></tr>
<tr><th id="99">99</th><td><i>/* for connection basic_type */</i></td></tr>
<tr><th id="100">100</th><td><b>enum</b> {</td></tr>
<tr><th id="101">101</th><td>  <dfn class="enum" id="ct_none" title='ct_none' data-ref="ct_none">ct_none</dfn>,		<i>// no connection (closed)</i></td></tr>
<tr><th id="102">102</th><td>  <dfn class="enum" id="ct_listen" title='ct_listen' data-ref="ct_listen">ct_listen</dfn>,		<i>// listening socket</i></td></tr>
<tr><th id="103">103</th><td>  <dfn class="enum" id="ct_inbound" title='ct_inbound' data-ref="ct_inbound">ct_inbound</dfn>,		<i>// inbound connection</i></td></tr>
<tr><th id="104">104</th><td>  <dfn class="enum" id="ct_outbound" title='ct_outbound' data-ref="ct_outbound">ct_outbound</dfn>,		<i>// outbound connection</i></td></tr>
<tr><th id="105">105</th><td>  <dfn class="enum" id="ct_pipe" title='ct_pipe' data-ref="ct_pipe">ct_pipe</dfn>,  		<i>// used for pipe reading</i></td></tr>
<tr><th id="106">106</th><td>  <dfn class="enum" id="ct_job" title='ct_job' data-ref="ct_job">ct_job</dfn>		<i>// used for async jobs ( net-jobs.h )</i></td></tr>
<tr><th id="107">107</th><td>};</td></tr>
<tr><th id="108">108</th><td></td></tr>
<tr><th id="109">109</th><td><i>/* for connection-&gt;ready of outbound connections */</i></td></tr>
<tr><th id="110">110</th><td><b>enum</b> {</td></tr>
<tr><th id="111">111</th><td>  <dfn class="enum" id="cr_notyet" title='cr_notyet' data-ref="cr_notyet">cr_notyet</dfn>,		<i>// not ready yet (e.g. logging in)</i></td></tr>
<tr><th id="112">112</th><td>  <dfn class="enum" id="cr_ok" title='cr_ok' data-ref="cr_ok">cr_ok</dfn>,		<i>// working</i></td></tr>
<tr><th id="113">113</th><td>  <dfn class="enum" id="cr_stopped" title='cr_stopped' data-ref="cr_stopped">cr_stopped</dfn>,		<i>// stopped (don't send more queries)</i></td></tr>
<tr><th id="114">114</th><td>  <dfn class="enum" id="cr_busy" title='cr_busy' data-ref="cr_busy">cr_busy</dfn>,		<i>// busy (sending queries not allowed by protocol)</i></td></tr>
<tr><th id="115">115</th><td>  <dfn class="enum" id="cr_failed" title='cr_failed' data-ref="cr_failed">cr_failed</dfn>		<i>// failed (possibly timed out)</i></td></tr>
<tr><th id="116">116</th><td>};</td></tr>
<tr><th id="117">117</th><td></td></tr>
<tr><th id="118">118</th><td></td></tr>
<tr><th id="119">119</th><td><b>typedef</b> <a class="typedef" href="../jobs/jobs.h.html#job_t" title='job_t' data-type='struct async_job *' data-ref="job_t">job_t</a> <dfn class="typedef" id="connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</dfn>; </td></tr>
<tr><th id="120">120</th><td><b>typedef</b> <a class="typedef" href="../jobs/jobs.h.html#job_t" title='job_t' data-type='struct async_job *' data-ref="job_t">job_t</a> <dfn class="typedef" id="socket_connection_job_t" title='socket_connection_job_t' data-type='job_t' data-ref="socket_connection_job_t">socket_connection_job_t</dfn>; </td></tr>
<tr><th id="121">121</th><td><b>typedef</b> <a class="typedef" href="../jobs/jobs.h.html#job_t" title='job_t' data-type='struct async_job *' data-ref="job_t">job_t</a> <dfn class="typedef" id="listening_connection_job_t" title='listening_connection_job_t' data-type='job_t' data-ref="listening_connection_job_t">listening_connection_job_t</dfn>; </td></tr>
<tr><th id="122">122</th><td><b>typedef</b> <a class="typedef" href="../jobs/jobs.h.html#job_t" title='job_t' data-type='struct async_job *' data-ref="job_t">job_t</a> <dfn class="typedef" id="conn_target_job_t" title='conn_target_job_t' data-type='job_t' data-ref="conn_target_job_t">conn_target_job_t</dfn>; </td></tr>
<tr><th id="123">123</th><td><b>typedef</b> <a class="typedef" href="../jobs/jobs.h.html#job_t" title='job_t' data-type='struct async_job *' data-ref="job_t">job_t</a> <dfn class="typedef" id="query_job_t" title='query_job_t' data-type='job_t' data-ref="query_job_t">query_job_t</dfn>;</td></tr>
<tr><th id="124">124</th><td></td></tr>
<tr><th id="125">125</th><td></td></tr>
<tr><th id="126">126</th><td><i>/* connection function table */</i></td></tr>
<tr><th id="127">127</th><td></td></tr>
<tr><th id="128">128</th><td><u>#define	<dfn class="macro" id="_M/CONN_FUNC_MAGIC" data-ref="_M/CONN_FUNC_MAGIC">CONN_FUNC_MAGIC</dfn>	0x11ef55aa</u></td></tr>
<tr><th id="129">129</th><td></td></tr>
<tr><th id="130">130</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="conn_functions" title='conn_functions' data-ref="conn_functions"><a class="type" href="#conn_functions" title='conn_functions' data-ref="conn_functions">conn_functions</a></dfn> {</td></tr>
<tr><th id="131">131</th><td>  <em>int</em> <dfn class="decl" id="conn_functions::magic" title='conn_functions::magic' data-ref="conn_functions::magic">magic</dfn>;</td></tr>
<tr><th id="132">132</th><td>  <em>int</em> <dfn class="decl" id="conn_functions::flags" title='conn_functions::flags' data-ref="conn_functions::flags">flags</dfn>;					<i>/* may contain for example C_RAWMSG; (partially) inherited by inbound/outbound connections */</i></td></tr>
<tr><th id="133">133</th><td>  <em>char</em> *<dfn class="decl" id="conn_functions::title" title='conn_functions::title' data-ref="conn_functions::title">title</dfn>;</td></tr>
<tr><th id="134">134</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::accept" title='conn_functions::accept' data-ref="conn_functions::accept">accept</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col7 decl" id="1977c" title='c' data-type='connection_job_t' data-ref="1977c">c</dfn>);		 <i>/* invoked for listen/accept connections of this type */</i></td></tr>
<tr><th id="135">135</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::init_accepted" title='conn_functions::init_accepted' data-ref="conn_functions::init_accepted">init_accepted</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col8 decl" id="1978c" title='c' data-type='connection_job_t' data-ref="1978c">c</dfn>);	 <i>/* initialize a new accept()'ed connection */</i></td></tr>
<tr><th id="136">136</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::reader" title='conn_functions::reader' data-ref="conn_functions::reader">reader</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col9 decl" id="1979c" title='c' data-type='connection_job_t' data-ref="1979c">c</dfn>);		 <i>/* invoked from run() for reading network data */</i></td></tr>
<tr><th id="137">137</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::writer" title='conn_functions::writer' data-ref="conn_functions::writer">writer</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col0 decl" id="1980c" title='c' data-type='connection_job_t' data-ref="1980c">c</dfn>);		 <i>/* invoked from run() for writing data */</i></td></tr>
<tr><th id="138">138</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::close" title='conn_functions::close' data-ref="conn_functions::close">close</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col1 decl" id="1981c" title='c' data-type='connection_job_t' data-ref="1981c">c</dfn>, <em>int</em> <dfn class="local col2 decl" id="1982who" title='who' data-type='int' data-ref="1982who">who</dfn>);	 <i>/* invoked from run() whenever we need to close connection */</i></td></tr>
<tr><th id="139">139</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::parse_execute" title='conn_functions::parse_execute' data-ref="conn_functions::parse_execute">parse_execute</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col3 decl" id="1983c" title='c' data-type='connection_job_t' data-ref="1983c">c</dfn>);	 <i>/* invoked from reader() for parsing and executing one query */</i></td></tr>
<tr><th id="140">140</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::init_outbound" title='conn_functions::init_outbound' data-ref="conn_functions::init_outbound">init_outbound</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col4 decl" id="1984c" title='c' data-type='connection_job_t' data-ref="1984c">c</dfn>);	 <i>/* initializes newly created outbound connection */</i></td></tr>
<tr><th id="141">141</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::connected" title='conn_functions::connected' data-ref="conn_functions::connected">connected</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col5 decl" id="1985c" title='c' data-type='connection_job_t' data-ref="1985c">c</dfn>);	 <i>/* invoked from run() when outbound connection is established */</i></td></tr>
<tr><th id="142">142</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::check_ready" title='conn_functions::check_ready' data-ref="conn_functions::check_ready">check_ready</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col6 decl" id="1986c" title='c' data-type='connection_job_t' data-ref="1986c">c</dfn>);	 <i>/* updates conn-&gt;ready if necessary and returns it */</i></td></tr>
<tr><th id="143">143</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::wakeup_aio" title='conn_functions::wakeup_aio' data-ref="conn_functions::wakeup_aio">wakeup_aio</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col7 decl" id="1987c" title='c' data-type='connection_job_t' data-ref="1987c">c</dfn>, <em>int</em> <dfn class="local col8 decl" id="1988r" title='r' data-type='int' data-ref="1988r">r</dfn>);<i>/* invoked from net_aio.c::check_aio_completion when aio read operation is complete */</i></td></tr>
<tr><th id="144">144</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::write_packet" title='conn_functions::write_packet' data-ref="conn_functions::write_packet">write_packet</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col9 decl" id="1989c" title='c' data-type='connection_job_t' data-ref="1989c">c</dfn>, <b>struct</b> <a class="type" href="net-msg.h.html#raw_message" title='raw_message' data-ref="raw_message">raw_message</a> *<dfn class="local col0 decl" id="1990raw" title='raw' data-type='struct raw_message *' data-ref="1990raw">raw</dfn>);		 <i>/* adds necessary headers to packet */</i> </td></tr>
<tr><th id="145">145</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::flush" title='conn_functions::flush' data-ref="conn_functions::flush">flush</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col1 decl" id="1991c" title='c' data-type='connection_job_t' data-ref="1991c">c</dfn>);		 <i>/* generates necessary padding and writes as much bytes as possible */</i></td></tr>
<tr><th id="146">146</th><td></td></tr>
<tr><th id="147">147</th><td>  <i>// CPU-NET METHODS</i></td></tr>
<tr><th id="148">148</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::free" title='conn_functions::free' data-ref="conn_functions::free">free</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col2 decl" id="1992c" title='c' data-type='connection_job_t' data-ref="1992c">c</dfn>);</td></tr>
<tr><th id="149">149</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::free_buffers" title='conn_functions::free_buffers' data-ref="conn_functions::free_buffers">free_buffers</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col3 decl" id="1993c" title='c' data-type='connection_job_t' data-ref="1993c">c</dfn>);	 <i>/* invoked from close() to free all buffers */</i></td></tr>
<tr><th id="150">150</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::read_write" title='conn_functions::read_write' data-ref="conn_functions::read_write">read_write</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col4 decl" id="1994c" title='c' data-type='connection_job_t' data-ref="1994c">c</dfn>);		 <i>/* invoked when an event related to connection of this type occurs */</i></td></tr>
<tr><th id="151">151</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::wakeup" title='conn_functions::wakeup' data-ref="conn_functions::wakeup">wakeup</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col5 decl" id="1995c" title='c' data-type='connection_job_t' data-ref="1995c">c</dfn>);		 <i>/* invoked from run() when pending_queries == 0 */</i></td></tr>
<tr><th id="152">152</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::alarm" title='conn_functions::alarm' data-ref="conn_functions::alarm">alarm</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col6 decl" id="1996c" title='c' data-type='connection_job_t' data-ref="1996c">c</dfn>);		 <i>/* invoked when timer is out */</i></td></tr>
<tr><th id="153">153</th><td></td></tr>
<tr><th id="154">154</th><td>  <i>// NET-NET METHODS</i></td></tr>
<tr><th id="155">155</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::socket_read_write" title='conn_functions::socket_read_write' data-ref="conn_functions::socket_read_write">socket_read_write</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col7 decl" id="1997c" title='c' data-type='connection_job_t' data-ref="1997c">c</dfn>);		 <i>/* invoked when an event related to connection of this type occurs */</i></td></tr>
<tr><th id="156">156</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::socket_reader" title='conn_functions::socket_reader' data-ref="conn_functions::socket_reader">socket_reader</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col8 decl" id="1998c" title='c' data-type='connection_job_t' data-ref="1998c">c</dfn>);		 <i>/* invoked from run() for reading network data */</i></td></tr>
<tr><th id="157">157</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::socket_writer" title='conn_functions::socket_writer' data-ref="conn_functions::socket_writer">socket_writer</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col9 decl" id="1999c" title='c' data-type='connection_job_t' data-ref="1999c">c</dfn>);		 <i>/* invoked from run() for writing data */</i></td></tr>
<tr><th id="158">158</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::socket_connected" title='conn_functions::socket_connected' data-ref="conn_functions::socket_connected">socket_connected</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col0 decl" id="2000c" title='c' data-type='connection_job_t' data-ref="2000c">c</dfn>);	 <i>/* invoked from run() when outbound connection is established */</i></td></tr>
<tr><th id="159">159</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::socket_free" title='conn_functions::socket_free' data-ref="conn_functions::socket_free">socket_free</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col1 decl" id="2001c" title='c' data-type='connection_job_t' data-ref="2001c">c</dfn>);</td></tr>
<tr><th id="160">160</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::socket_close" title='conn_functions::socket_close' data-ref="conn_functions::socket_close">socket_close</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col2 decl" id="2002c" title='c' data-type='connection_job_t' data-ref="2002c">c</dfn>);</td></tr>
<tr><th id="161">161</th><td></td></tr>
<tr><th id="162">162</th><td>  <i>// INLINE FUNCTIONS</i></td></tr>
<tr><th id="163">163</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::data_received" title='conn_functions::data_received' data-ref="conn_functions::data_received">data_received</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col3 decl" id="2003c" title='c' data-type='connection_job_t' data-ref="2003c">c</dfn>, <em>int</em> <dfn class="local col4 decl" id="2004r" title='r' data-type='int' data-ref="2004r">r</dfn>);	<i>/* invoked after r&gt;0 bytes are read from socket */</i></td></tr>
<tr><th id="164">164</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::data_sent" title='conn_functions::data_sent' data-ref="conn_functions::data_sent">data_sent</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col5 decl" id="2005c" title='c' data-type='connection_job_t' data-ref="2005c">c</dfn>, <em>int</em> <dfn class="local col6 decl" id="2006w" title='w' data-type='int' data-ref="2006w">w</dfn>);	<i>/* invoked after w&gt;0 bytes are written into socket */</i></td></tr>
<tr><th id="165">165</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::ready_to_write" title='conn_functions::ready_to_write' data-ref="conn_functions::ready_to_write">ready_to_write</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col7 decl" id="2007c" title='c' data-type='connection_job_t' data-ref="2007c">c</dfn>);   <i>/* invoked from server_writer when Out.total_bytes crosses write_low_watermark ("greater or equal" -&gt; "less") */</i></td></tr>
<tr><th id="166">166</th><td>  </td></tr>
<tr><th id="167">167</th><td>  <i>// INLINE METHODS</i></td></tr>
<tr><th id="168">168</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::crypto_init" title='conn_functions::crypto_init' data-ref="conn_functions::crypto_init">crypto_init</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col8 decl" id="2008c" title='c' data-type='connection_job_t' data-ref="2008c">c</dfn>, <em>void</em> *<dfn class="local col9 decl" id="2009key_data" title='key_data' data-type='void *' data-ref="2009key_data">key_data</dfn>, <em>int</em> <dfn class="local col0 decl" id="2010key_data_len" title='key_data_len' data-type='int' data-ref="2010key_data_len">key_data_len</dfn>);  <i>/* &lt; 0 = error */</i></td></tr>
<tr><th id="169">169</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::crypto_free" title='conn_functions::crypto_free' data-ref="conn_functions::crypto_free">crypto_free</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col1 decl" id="2011c" title='c' data-type='connection_job_t' data-ref="2011c">c</dfn>);</td></tr>
<tr><th id="170">170</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::crypto_encrypt_output" title='conn_functions::crypto_encrypt_output' data-ref="conn_functions::crypto_encrypt_output">crypto_encrypt_output</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col2 decl" id="2012c" title='c' data-type='connection_job_t' data-ref="2012c">c</dfn>);  <i>/* 0 = all ok, &gt;0 = so much more bytes needed to encrypt last block */</i></td></tr>
<tr><th id="171">171</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::crypto_decrypt_input" title='conn_functions::crypto_decrypt_input' data-ref="conn_functions::crypto_decrypt_input">crypto_decrypt_input</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col3 decl" id="2013c" title='c' data-type='connection_job_t' data-ref="2013c">c</dfn>);   <i>/* 0 = all ok, &gt;0 = so much more bytes needed to decrypt last block */</i></td></tr>
<tr><th id="172">172</th><td>  <em>int</em> (*<dfn class="decl" id="conn_functions::crypto_needed_output_bytes" title='conn_functions::crypto_needed_output_bytes' data-ref="conn_functions::crypto_needed_output_bytes">crypto_needed_output_bytes</dfn>)(<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col4 decl" id="2014c" title='c' data-type='connection_job_t' data-ref="2014c">c</dfn>);	<i>/* returns # of bytes needed to complete last output block */</i></td></tr>
<tr><th id="173">173</th><td>} <dfn class="typedef" id="conn_type_t" title='conn_type_t' data-type='struct conn_functions' data-ref="conn_type_t">conn_type_t</dfn>;</td></tr>
<tr><th id="174">174</th><td></td></tr>
<tr><th id="175">175</th><td><b>struct</b> <dfn class="type def" id="conn_target_info" title='conn_target_info' data-ref="conn_target_info">conn_target_info</dfn> {</td></tr>
<tr><th id="176">176</th><td>  <b>struct</b> <a class="type" href="net-timers.h.html#event_timer" title='event_timer' data-ref="event_timer">event_timer</a> <dfn class="decl" id="conn_target_info::timer" title='conn_target_info::timer' data-ref="conn_target_info::timer">timer</dfn>;</td></tr>
<tr><th id="177">177</th><td>  <em>int</em> <dfn class="decl" id="conn_target_info::min_connections" title='conn_target_info::min_connections' data-ref="conn_target_info::min_connections">min_connections</dfn>;</td></tr>
<tr><th id="178">178</th><td>  <em>int</em> <dfn class="decl" id="conn_target_info::max_connections" title='conn_target_info::max_connections' data-ref="conn_target_info::max_connections">max_connections</dfn>;</td></tr>
<tr><th id="179">179</th><td></td></tr>
<tr><th id="180">180</th><td>  <b>struct</b> <dfn class="type" id="tree_connection" title='tree_connection' data-ref="tree_connection"><a class="type" href="#tree_connection" title='tree_connection' data-ref="tree_connection">tree_connection</a></dfn> *<dfn class="decl" id="conn_target_info::conn_tree" title='conn_target_info::conn_tree' data-ref="conn_target_info::conn_tree">conn_tree</dfn>;</td></tr>
<tr><th id="181">181</th><td>  <i>//connection_job_t first_conn, last_conn;</i></td></tr>
<tr><th id="182">182</th><td>  <a class="typedef" href="#conn_type_t" title='conn_type_t' data-type='struct conn_functions' data-ref="conn_type_t">conn_type_t</a> *<dfn class="decl" id="conn_target_info::type" title='conn_target_info::type' data-ref="conn_target_info::type">type</dfn>;</td></tr>
<tr><th id="183">183</th><td>  <em>void</em> *<dfn class="decl" id="conn_target_info::extra" title='conn_target_info::extra' data-ref="conn_target_info::extra">extra</dfn>;</td></tr>
<tr><th id="184">184</th><td>  <b>struct</b> <a class="type" href="../../include/netinet/in.h.html#in_addr" title='in_addr' data-ref="in_addr">in_addr</a> <dfn class="decl" id="conn_target_info::target" title='conn_target_info::target' data-ref="conn_target_info::target">target</dfn>;</td></tr>
<tr><th id="185">185</th><td>  <em>unsigned</em> <em>char</em> <dfn class="decl" id="conn_target_info::target_ipv6" title='conn_target_info::target_ipv6' data-ref="conn_target_info::target_ipv6">target_ipv6</dfn>[<var>16</var>];</td></tr>
<tr><th id="186">186</th><td>  <em>int</em> <dfn class="decl" id="conn_target_info::port" title='conn_target_info::port' data-ref="conn_target_info::port">port</dfn>;</td></tr>
<tr><th id="187">187</th><td>  <em>int</em> <dfn class="decl" id="conn_target_info::active_outbound_connections" title='conn_target_info::active_outbound_connections' data-ref="conn_target_info::active_outbound_connections">active_outbound_connections</dfn>, <dfn class="decl" id="conn_target_info::outbound_connections" title='conn_target_info::outbound_connections' data-ref="conn_target_info::outbound_connections">outbound_connections</dfn>;</td></tr>
<tr><th id="188">188</th><td>  <em>int</em> <dfn class="decl" id="conn_target_info::ready_outbound_connections" title='conn_target_info::ready_outbound_connections' data-ref="conn_target_info::ready_outbound_connections">ready_outbound_connections</dfn>;</td></tr>
<tr><th id="189">189</th><td>  <em>double</em> <dfn class="decl" id="conn_target_info::next_reconnect" title='conn_target_info::next_reconnect' data-ref="conn_target_info::next_reconnect">next_reconnect</dfn>, <dfn class="decl" id="conn_target_info::reconnect_timeout" title='conn_target_info::reconnect_timeout' data-ref="conn_target_info::reconnect_timeout">reconnect_timeout</dfn>, <dfn class="decl" id="conn_target_info::next_reconnect_timeout" title='conn_target_info::next_reconnect_timeout' data-ref="conn_target_info::next_reconnect_timeout">next_reconnect_timeout</dfn>;</td></tr>
<tr><th id="190">190</th><td>  <em>int</em> <dfn class="decl" id="conn_target_info::custom_field" title='conn_target_info::custom_field' data-ref="conn_target_info::custom_field">custom_field</dfn>;</td></tr>
<tr><th id="191">191</th><td>  <a class="typedef" href="#conn_target_job_t" title='conn_target_job_t' data-type='job_t' data-ref="conn_target_job_t">conn_target_job_t</a> <dfn class="decl" id="conn_target_info::next_target" title='conn_target_info::next_target' data-ref="conn_target_info::next_target">next_target</dfn>, <dfn class="decl" id="conn_target_info::prev_target" title='conn_target_info::prev_target' data-ref="conn_target_info::prev_target">prev_target</dfn>;</td></tr>
<tr><th id="192">192</th><td>  <a class="typedef" href="#conn_target_job_t" title='conn_target_job_t' data-type='job_t' data-ref="conn_target_job_t">conn_target_job_t</a> <dfn class="decl" id="conn_target_info::hnext" title='conn_target_info::hnext' data-ref="conn_target_info::hnext">hnext</dfn>;</td></tr>
<tr><th id="193">193</th><td></td></tr>
<tr><th id="194">194</th><td>  <em>int</em> <dfn class="decl" id="conn_target_info::global_refcnt" title='conn_target_info::global_refcnt' data-ref="conn_target_info::global_refcnt">global_refcnt</dfn>;</td></tr>
<tr><th id="195">195</th><td>};</td></tr>
<tr><th id="196">196</th><td></td></tr>
<tr><th id="197">197</th><td><b>struct</b> <dfn class="type def" id="connection_info" title='connection_info' data-ref="connection_info">connection_info</dfn> {</td></tr>
<tr><th id="198">198</th><td>  <b>struct</b> <a class="type" href="net-timers.h.html#event_timer" title='event_timer' data-ref="event_timer">event_timer</a> <dfn class="decl" id="connection_info::timer" title='connection_info::timer' data-ref="connection_info::timer">timer</dfn>;</td></tr>
<tr><th id="199">199</th><td>  <em>int</em> <dfn class="decl" id="connection_info::fd" title='connection_info::fd' data-ref="connection_info::fd">fd</dfn>;</td></tr>
<tr><th id="200">200</th><td>  <em>int</em> <dfn class="decl" id="connection_info::generation" title='connection_info::generation' data-ref="connection_info::generation">generation</dfn>;</td></tr>
<tr><th id="201">201</th><td>  <em>int</em> <dfn class="decl" id="connection_info::flags" title='connection_info::flags' data-ref="connection_info::flags">flags</dfn>;</td></tr>
<tr><th id="202">202</th><td>  <i>// connection_job_t next, prev;</i></td></tr>
<tr><th id="203">203</th><td>  <a class="typedef" href="#conn_type_t" title='conn_type_t' data-type='struct conn_functions' data-ref="conn_type_t">conn_type_t</a> *<dfn class="decl" id="connection_info::type" title='connection_info::type' data-ref="connection_info::type">type</dfn>;</td></tr>
<tr><th id="204">204</th><td>  <em>void</em> *<dfn class="decl" id="connection_info::extra" title='connection_info::extra' data-ref="connection_info::extra">extra</dfn>;</td></tr>
<tr><th id="205">205</th><td>  <a class="typedef" href="#conn_target_job_t" title='conn_target_job_t' data-type='job_t' data-ref="conn_target_job_t">conn_target_job_t</a> <dfn class="decl" id="connection_info::target" title='connection_info::target' data-ref="connection_info::target">target</dfn>;</td></tr>
<tr><th id="206">206</th><td>  <a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="decl" id="connection_info::io_conn" title='connection_info::io_conn' data-ref="connection_info::io_conn">io_conn</dfn>;</td></tr>
<tr><th id="207">207</th><td>  <em>int</em> <dfn class="decl" id="connection_info::basic_type" title='connection_info::basic_type' data-ref="connection_info::basic_type">basic_type</dfn>;</td></tr>
<tr><th id="208">208</th><td>  <em>int</em> <dfn class="decl" id="connection_info::status" title='connection_info::status' data-ref="connection_info::status">status</dfn>;</td></tr>
<tr><th id="209">209</th><td>  <em>int</em> <dfn class="decl" id="connection_info::error" title='connection_info::error' data-ref="connection_info::error">error</dfn>;</td></tr>
<tr><th id="210">210</th><td>  <em>int</em> <dfn class="decl" id="connection_info::unread_res_bytes" title='connection_info::unread_res_bytes' data-ref="connection_info::unread_res_bytes">unread_res_bytes</dfn>;</td></tr>
<tr><th id="211">211</th><td>  <em>int</em> <dfn class="decl" id="connection_info::skip_bytes" title='connection_info::skip_bytes' data-ref="connection_info::skip_bytes">skip_bytes</dfn>;</td></tr>
<tr><th id="212">212</th><td>  <em>int</em> <dfn class="decl" id="connection_info::pending_queries" title='connection_info::pending_queries' data-ref="connection_info::pending_queries">pending_queries</dfn>;</td></tr>
<tr><th id="213">213</th><td>  <em>int</em> <dfn class="decl" id="connection_info::queries_ok" title='connection_info::queries_ok' data-ref="connection_info::queries_ok">queries_ok</dfn>;</td></tr>
<tr><th id="214">214</th><td>  <em>char</em> <dfn class="decl" id="connection_info::custom_data" title='connection_info::custom_data' data-ref="connection_info::custom_data">custom_data</dfn>[<a class="macro" href="#50" title="256" data-ref="_M/CONN_CUSTOM_DATA_BYTES">CONN_CUSTOM_DATA_BYTES</a>];</td></tr>
<tr><th id="215">215</th><td>  <em>unsigned</em> <dfn class="decl" id="connection_info::our_ip" title='connection_info::our_ip' data-ref="connection_info::our_ip">our_ip</dfn>, <dfn class="decl" id="connection_info::remote_ip" title='connection_info::remote_ip' data-ref="connection_info::remote_ip">remote_ip</dfn>;</td></tr>
<tr><th id="216">216</th><td>  <em>unsigned</em> <dfn class="decl" id="connection_info::our_port" title='connection_info::our_port' data-ref="connection_info::our_port">our_port</dfn>, <dfn class="decl" id="connection_info::remote_port" title='connection_info::remote_port' data-ref="connection_info::remote_port">remote_port</dfn>;</td></tr>
<tr><th id="217">217</th><td>  <em>unsigned</em> <em>char</em> <dfn class="decl" id="connection_info::our_ipv6" title='connection_info::our_ipv6' data-ref="connection_info::our_ipv6">our_ipv6</dfn>[<var>16</var>], <dfn class="decl" id="connection_info::remote_ipv6" title='connection_info::remote_ipv6' data-ref="connection_info::remote_ipv6">remote_ipv6</dfn>[<var>16</var>];</td></tr>
<tr><th id="218">218</th><td>  <em>double</em> <dfn class="decl" id="connection_info::query_start_time" title='connection_info::query_start_time' data-ref="connection_info::query_start_time">query_start_time</dfn>;</td></tr>
<tr><th id="219">219</th><td>  <em>double</em> <dfn class="decl" id="connection_info::last_query_time" title='connection_info::last_query_time' data-ref="connection_info::last_query_time">last_query_time</dfn>;</td></tr>
<tr><th id="220">220</th><td>  <em>double</em> <dfn class="decl" id="connection_info::last_query_sent_time" title='connection_info::last_query_sent_time' data-ref="connection_info::last_query_sent_time">last_query_sent_time</dfn>;</td></tr>
<tr><th id="221">221</th><td>  <em>double</em> <dfn class="decl" id="connection_info::last_response_time" title='connection_info::last_response_time' data-ref="connection_info::last_response_time">last_response_time</dfn>;</td></tr>
<tr><th id="222">222</th><td>  <em>double</em> <dfn class="decl" id="connection_info::last_query_timeout" title='connection_info::last_query_timeout' data-ref="connection_info::last_query_timeout">last_query_timeout</dfn>;</td></tr>
<tr><th id="223">223</th><td>  <i>//event_timer_t timer;</i></td></tr>
<tr><th id="224">224</th><td><i>  //event_timer_t write_timer;</i></td></tr>
<tr><th id="225">225</th><td>  <em>int</em> <dfn class="decl" id="connection_info::limit_per_write" title='connection_info::limit_per_write' data-ref="connection_info::limit_per_write">limit_per_write</dfn>, <dfn class="decl" id="connection_info::limit_per_sec" title='connection_info::limit_per_sec' data-ref="connection_info::limit_per_sec">limit_per_sec</dfn>;</td></tr>
<tr><th id="226">226</th><td>  <em>int</em> <dfn class="decl" id="connection_info::last_write_time" title='connection_info::last_write_time' data-ref="connection_info::last_write_time">last_write_time</dfn>, <dfn class="decl" id="connection_info::written_per_sec" title='connection_info::written_per_sec' data-ref="connection_info::written_per_sec">written_per_sec</dfn>;</td></tr>
<tr><th id="227">227</th><td>  <em>int</em> <dfn class="decl" id="connection_info::unreliability" title='connection_info::unreliability' data-ref="connection_info::unreliability">unreliability</dfn>;</td></tr>
<tr><th id="228">228</th><td>  <em>int</em> <dfn class="decl" id="connection_info::ready" title='connection_info::ready' data-ref="connection_info::ready">ready</dfn>;</td></tr>
<tr><th id="229">229</th><td>  <i>//int parse_state;</i></td></tr>
<tr><th id="230">230</th><td>  <em>int</em> <dfn class="decl" id="connection_info::write_low_watermark" title='connection_info::write_low_watermark' data-ref="connection_info::write_low_watermark">write_low_watermark</dfn>;</td></tr>
<tr><th id="231">231</th><td>  <em>void</em> *<dfn class="decl" id="connection_info::crypto" title='connection_info::crypto' data-ref="connection_info::crypto">crypto</dfn>;</td></tr>
<tr><th id="232">232</th><td>  <em>void</em> *<dfn class="decl" id="connection_info::crypto_temp" title='connection_info::crypto_temp' data-ref="connection_info::crypto_temp">crypto_temp</dfn>;</td></tr>
<tr><th id="233">233</th><td>  <em>int</em> <dfn class="decl" id="connection_info::listening" title='connection_info::listening' data-ref="connection_info::listening">listening</dfn>, <dfn class="decl" id="connection_info::listening_generation" title='connection_info::listening_generation' data-ref="connection_info::listening_generation">listening_generation</dfn>;</td></tr>
<tr><th id="234">234</th><td>  <em>int</em> <dfn class="decl" id="connection_info::window_clamp" title='connection_info::window_clamp' data-ref="connection_info::window_clamp">window_clamp</dfn>;</td></tr>
<tr><th id="235">235</th><td></td></tr>
<tr><th id="236">236</th><td>  <b>struct</b> <a class="type" href="net-msg.h.html#raw_message" title='raw_message' data-ref="raw_message">raw_message</a> <dfn class="decl" id="connection_info::in_u" title='connection_info::in_u' data-ref="connection_info::in_u">in_u</dfn>, <dfn class="decl" id="connection_info::in" title='connection_info::in' data-ref="connection_info::in">in</dfn>, <dfn class="decl" id="connection_info::out" title='connection_info::out' data-ref="connection_info::out">out</dfn>, <dfn class="decl" id="connection_info::out_p" title='connection_info::out_p' data-ref="connection_info::out_p">out_p</dfn>;</td></tr>
<tr><th id="237">237</th><td></td></tr>
<tr><th id="238">238</th><td>  <b>struct</b> <a class="type" href="../common/mp-queue.h.html#mp_queue" title='mp_queue' data-ref="mp_queue">mp_queue</a> *<dfn class="decl" id="connection_info::in_queue" title='connection_info::in_queue' data-ref="connection_info::in_queue">in_queue</dfn>;</td></tr>
<tr><th id="239">239</th><td>  <b>struct</b> <a class="type" href="../common/mp-queue.h.html#mp_queue" title='mp_queue' data-ref="mp_queue">mp_queue</a> *<dfn class="decl" id="connection_info::out_queue" title='connection_info::out_queue' data-ref="connection_info::out_queue">out_queue</dfn>;</td></tr>
<tr><th id="240">240</th><td></td></tr>
<tr><th id="241">241</th><td>  <i>//netbuffer_t *Tmp, In, Out;</i></td></tr>
<tr><th id="242">242</th><td><i>  //char in_buff[BUFF_SIZE];</i></td></tr>
<tr><th id="243">243</th><td><i>  //char out_buff[BUFF_SIZE];</i></td></tr>
<tr><th id="244">244</th><td>};</td></tr>
<tr><th id="245">245</th><td></td></tr>
<tr><th id="246">246</th><td><b>struct</b> <dfn class="type def" id="socket_connection_info" title='socket_connection_info' data-ref="socket_connection_info">socket_connection_info</dfn> {</td></tr>
<tr><th id="247">247</th><td>  <b>struct</b> <a class="type" href="net-timers.h.html#event_timer" title='event_timer' data-ref="event_timer">event_timer</a> <dfn class="decl" id="socket_connection_info::timer" title='socket_connection_info::timer' data-ref="socket_connection_info::timer">timer</dfn>;</td></tr>
<tr><th id="248">248</th><td>  <em>int</em> <dfn class="decl" id="socket_connection_info::fd" title='socket_connection_info::fd' data-ref="socket_connection_info::fd">fd</dfn>;</td></tr>
<tr><th id="249">249</th><td>  <em>int</em> <dfn class="decl" id="socket_connection_info::pad" title='socket_connection_info::pad' data-ref="socket_connection_info::pad">pad</dfn>;</td></tr>
<tr><th id="250">250</th><td>  <em>int</em> <dfn class="decl" id="socket_connection_info::flags" title='socket_connection_info::flags' data-ref="socket_connection_info::flags">flags</dfn>;</td></tr>
<tr><th id="251">251</th><td>  <em>int</em> <dfn class="decl" id="socket_connection_info::current_epoll_status" title='socket_connection_info::current_epoll_status' data-ref="socket_connection_info::current_epoll_status">current_epoll_status</dfn>;</td></tr>
<tr><th id="252">252</th><td>  <a class="typedef" href="#conn_type_t" title='conn_type_t' data-type='struct conn_functions' data-ref="conn_type_t">conn_type_t</a> *<dfn class="decl" id="socket_connection_info::type" title='socket_connection_info::type' data-ref="socket_connection_info::type">type</dfn>;</td></tr>
<tr><th id="253">253</th><td>  <a class="typedef" href="net-events.h.html#event_t" title='event_t' data-type='struct event_descr' data-ref="event_t">event_t</a> *<dfn class="decl" id="socket_connection_info::ev" title='socket_connection_info::ev' data-ref="socket_connection_info::ev">ev</dfn>;</td></tr>
<tr><th id="254">254</th><td>  <a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="decl" id="socket_connection_info::conn" title='socket_connection_info::conn' data-ref="socket_connection_info::conn">conn</dfn>;</td></tr>
<tr><th id="255">255</th><td>  <b>struct</b> <a class="type" href="../common/mp-queue.h.html#mp_queue" title='mp_queue' data-ref="mp_queue">mp_queue</a> *<dfn class="decl" id="socket_connection_info::out_packet_queue" title='socket_connection_info::out_packet_queue' data-ref="socket_connection_info::out_packet_queue">out_packet_queue</dfn>;</td></tr>
<tr><th id="256">256</th><td>  <b>struct</b> <a class="type" href="net-msg.h.html#raw_message" title='raw_message' data-ref="raw_message">raw_message</a> <dfn class="decl" id="socket_connection_info::out" title='socket_connection_info::out' data-ref="socket_connection_info::out">out</dfn>;</td></tr>
<tr><th id="257">257</th><td>  <em>unsigned</em> <dfn class="decl" id="socket_connection_info::our_ip" title='socket_connection_info::our_ip' data-ref="socket_connection_info::our_ip">our_ip</dfn>, <dfn class="decl" id="socket_connection_info::remote_ip" title='socket_connection_info::remote_ip' data-ref="socket_connection_info::remote_ip">remote_ip</dfn>;</td></tr>
<tr><th id="258">258</th><td>  <em>unsigned</em> <dfn class="decl" id="socket_connection_info::our_port" title='socket_connection_info::our_port' data-ref="socket_connection_info::our_port">our_port</dfn>, <dfn class="decl" id="socket_connection_info::remote_port" title='socket_connection_info::remote_port' data-ref="socket_connection_info::remote_port">remote_port</dfn>;</td></tr>
<tr><th id="259">259</th><td>  <em>unsigned</em> <em>char</em> <dfn class="decl" id="socket_connection_info::our_ipv6" title='socket_connection_info::our_ipv6' data-ref="socket_connection_info::our_ipv6">our_ipv6</dfn>[<var>16</var>], <dfn class="decl" id="socket_connection_info::remote_ipv6" title='socket_connection_info::remote_ipv6' data-ref="socket_connection_info::remote_ipv6">remote_ipv6</dfn>[<var>16</var>];</td></tr>
<tr><th id="260">260</th><td>  <em>int</em> <dfn class="decl" id="socket_connection_info::write_low_watermark" title='socket_connection_info::write_low_watermark' data-ref="socket_connection_info::write_low_watermark">write_low_watermark</dfn>;</td></tr>
<tr><th id="261">261</th><td>  <em>int</em> <dfn class="decl" id="socket_connection_info::eagain_count" title='socket_connection_info::eagain_count' data-ref="socket_connection_info::eagain_count">eagain_count</dfn>;</td></tr>
<tr><th id="262">262</th><td>};</td></tr>
<tr><th id="263">263</th><td></td></tr>
<tr><th id="264">264</th><td><b>struct</b> <dfn class="type def" id="listening_connection_info" title='listening_connection_info' data-ref="listening_connection_info">listening_connection_info</dfn> {</td></tr>
<tr><th id="265">265</th><td>  <b>struct</b> <a class="type" href="net-timers.h.html#event_timer" title='event_timer' data-ref="event_timer">event_timer</a> <dfn class="decl" id="listening_connection_info::timer" title='listening_connection_info::timer' data-ref="listening_connection_info::timer">timer</dfn>;</td></tr>
<tr><th id="266">266</th><td>  <em>int</em> <dfn class="decl" id="listening_connection_info::fd" title='listening_connection_info::fd' data-ref="listening_connection_info::fd">fd</dfn>;</td></tr>
<tr><th id="267">267</th><td>  <em>int</em> <dfn class="decl" id="listening_connection_info::generation" title='listening_connection_info::generation' data-ref="listening_connection_info::generation">generation</dfn>;</td></tr>
<tr><th id="268">268</th><td>  <em>int</em> <dfn class="decl" id="listening_connection_info::flags" title='listening_connection_info::flags' data-ref="listening_connection_info::flags">flags</dfn>;</td></tr>
<tr><th id="269">269</th><td>  <em>int</em> <dfn class="decl" id="listening_connection_info::current_epoll_status" title='listening_connection_info::current_epoll_status' data-ref="listening_connection_info::current_epoll_status">current_epoll_status</dfn>;</td></tr>
<tr><th id="270">270</th><td>  <a class="typedef" href="#conn_type_t" title='conn_type_t' data-type='struct conn_functions' data-ref="conn_type_t">conn_type_t</a> *<dfn class="decl" id="listening_connection_info::type" title='listening_connection_info::type' data-ref="listening_connection_info::type">type</dfn>;</td></tr>
<tr><th id="271">271</th><td>  <a class="typedef" href="net-events.h.html#event_t" title='event_t' data-type='struct event_descr' data-ref="event_t">event_t</a> *<dfn class="decl" id="listening_connection_info::ev" title='listening_connection_info::ev' data-ref="listening_connection_info::ev">ev</dfn>;</td></tr>
<tr><th id="272">272</th><td>  <em>void</em> *<dfn class="decl" id="listening_connection_info::extra" title='listening_connection_info::extra' data-ref="listening_connection_info::extra">extra</dfn>;</td></tr>
<tr><th id="273">273</th><td>  <em>int</em> <dfn class="decl" id="listening_connection_info::window_clamp" title='listening_connection_info::window_clamp' data-ref="listening_connection_info::window_clamp">window_clamp</dfn>;</td></tr>
<tr><th id="274">274</th><td>};</td></tr>
<tr><th id="275">275</th><td></td></tr>
<tr><th id="276">276</th><td><b>struct</b> <dfn class="type def" id="connections_stat" title='connections_stat' data-ref="connections_stat">connections_stat</dfn> {</td></tr>
<tr><th id="277">277</th><td>  <em>int</em> <dfn class="decl" id="connections_stat::active_connections" title='connections_stat::active_connections' data-ref="connections_stat::active_connections">active_connections</dfn>;</td></tr>
<tr><th id="278">278</th><td>  <em>int</em> <dfn class="decl" id="connections_stat::active_dh_connections" title='connections_stat::active_dh_connections' data-ref="connections_stat::active_dh_connections">active_dh_connections</dfn>;</td></tr>
<tr><th id="279">279</th><td>  <em>int</em> <dfn class="decl" id="connections_stat::outbound_connections" title='connections_stat::outbound_connections' data-ref="connections_stat::outbound_connections">outbound_connections</dfn>;</td></tr>
<tr><th id="280">280</th><td>  <em>int</em> <dfn class="decl" id="connections_stat::active_outbound_connections" title='connections_stat::active_outbound_connections' data-ref="connections_stat::active_outbound_connections">active_outbound_connections</dfn>;</td></tr>
<tr><th id="281">281</th><td>  <em>int</em> <dfn class="decl" id="connections_stat::ready_outbound_connections" title='connections_stat::ready_outbound_connections' data-ref="connections_stat::ready_outbound_connections">ready_outbound_connections</dfn>;</td></tr>
<tr><th id="282">282</th><td>  <em>int</em> <dfn class="decl" id="connections_stat::active_special_connections" title='connections_stat::active_special_connections' data-ref="connections_stat::active_special_connections">active_special_connections</dfn>;</td></tr>
<tr><th id="283">283</th><td>  <em>int</em> <dfn class="decl" id="connections_stat::max_special_connections" title='connections_stat::max_special_connections' data-ref="connections_stat::max_special_connections">max_special_connections</dfn>;</td></tr>
<tr><th id="284">284</th><td>  <em>int</em> <dfn class="decl" id="connections_stat::allocated_connections" title='connections_stat::allocated_connections' data-ref="connections_stat::allocated_connections">allocated_connections</dfn>;</td></tr>
<tr><th id="285">285</th><td>  <em>int</em> <dfn class="decl" id="connections_stat::allocated_outbound_connections" title='connections_stat::allocated_outbound_connections' data-ref="connections_stat::allocated_outbound_connections">allocated_outbound_connections</dfn>;</td></tr>
<tr><th id="286">286</th><td>  <em>int</em> <dfn class="decl" id="connections_stat::allocated_inbound_connections" title='connections_stat::allocated_inbound_connections' data-ref="connections_stat::allocated_inbound_connections">allocated_inbound_connections</dfn>;</td></tr>
<tr><th id="287">287</th><td>  <em>int</em> <dfn class="decl" id="connections_stat::allocated_socket_connections" title='connections_stat::allocated_socket_connections' data-ref="connections_stat::allocated_socket_connections">allocated_socket_connections</dfn>;</td></tr>
<tr><th id="288">288</th><td>  <em>int</em> <dfn class="decl" id="connections_stat::allocated_targets" title='connections_stat::allocated_targets' data-ref="connections_stat::allocated_targets">allocated_targets</dfn>;</td></tr>
<tr><th id="289">289</th><td>  <em>int</em> <dfn class="decl" id="connections_stat::ready_targets" title='connections_stat::ready_targets' data-ref="connections_stat::ready_targets">ready_targets</dfn>;</td></tr>
<tr><th id="290">290</th><td>  <em>int</em> <dfn class="decl" id="connections_stat::active_targets" title='connections_stat::active_targets' data-ref="connections_stat::active_targets">active_targets</dfn>;</td></tr>
<tr><th id="291">291</th><td>  <em>int</em> <dfn class="decl" id="connections_stat::inactive_targets" title='connections_stat::inactive_targets' data-ref="connections_stat::inactive_targets">inactive_targets</dfn>;</td></tr>
<tr><th id="292">292</th><td>  <em>long</em> <em>long</em> <dfn class="decl" id="connections_stat::tcp_readv_calls" title='connections_stat::tcp_readv_calls' data-ref="connections_stat::tcp_readv_calls">tcp_readv_calls</dfn>;</td></tr>
<tr><th id="293">293</th><td>  <em>long</em> <em>long</em> <dfn class="decl" id="connections_stat::tcp_readv_intr" title='connections_stat::tcp_readv_intr' data-ref="connections_stat::tcp_readv_intr">tcp_readv_intr</dfn>;</td></tr>
<tr><th id="294">294</th><td>  <em>long</em> <em>long</em> <dfn class="decl" id="connections_stat::tcp_readv_bytes" title='connections_stat::tcp_readv_bytes' data-ref="connections_stat::tcp_readv_bytes">tcp_readv_bytes</dfn>;</td></tr>
<tr><th id="295">295</th><td>  <em>long</em> <em>long</em> <dfn class="decl" id="connections_stat::tcp_writev_calls" title='connections_stat::tcp_writev_calls' data-ref="connections_stat::tcp_writev_calls">tcp_writev_calls</dfn>;</td></tr>
<tr><th id="296">296</th><td>  <em>long</em> <em>long</em> <dfn class="decl" id="connections_stat::tcp_writev_intr" title='connections_stat::tcp_writev_intr' data-ref="connections_stat::tcp_writev_intr">tcp_writev_intr</dfn>;</td></tr>
<tr><th id="297">297</th><td>  <em>long</em> <em>long</em> <dfn class="decl" id="connections_stat::tcp_writev_bytes" title='connections_stat::tcp_writev_bytes' data-ref="connections_stat::tcp_writev_bytes">tcp_writev_bytes</dfn>;</td></tr>
<tr><th id="298">298</th><td>  <em>long</em> <em>long</em> <dfn class="decl" id="connections_stat::accept_calls_failed" title='connections_stat::accept_calls_failed' data-ref="connections_stat::accept_calls_failed">accept_calls_failed</dfn>;</td></tr>
<tr><th id="299">299</th><td>  <em>long</em> <em>long</em> <dfn class="decl" id="connections_stat::accept_nonblock_set_failed" title='connections_stat::accept_nonblock_set_failed' data-ref="connections_stat::accept_nonblock_set_failed">accept_nonblock_set_failed</dfn>;</td></tr>
<tr><th id="300">300</th><td>  <em>long</em> <em>long</em> <dfn class="decl" id="connections_stat::accept_rate_limit_failed" title='connections_stat::accept_rate_limit_failed' data-ref="connections_stat::accept_rate_limit_failed">accept_rate_limit_failed</dfn>;</td></tr>
<tr><th id="301">301</th><td>  <em>long</em> <em>long</em> <dfn class="decl" id="connections_stat::accept_init_accepted_failed" title='connections_stat::accept_init_accepted_failed' data-ref="connections_stat::accept_init_accepted_failed">accept_init_accepted_failed</dfn>;</td></tr>
<tr><th id="302">302</th><td>  <em>long</em> <em>long</em> <dfn class="decl" id="connections_stat::accept_connection_limit_failed" title='connections_stat::accept_connection_limit_failed' data-ref="connections_stat::accept_connection_limit_failed">accept_connection_limit_failed</dfn>;</td></tr>
<tr><th id="303">303</th><td>};</td></tr>
<tr><th id="304">304</th><td></td></tr>
<tr><th id="305">305</th><td><u>#define <dfn class="macro" id="_M/QUERY_INFO" data-ref="_M/QUERY_INFO">QUERY_INFO</dfn>(_c) ((struct query_info *)(_c)-&gt;j_custom)</u></td></tr>
<tr><th id="306">306</th><td></td></tr>
<tr><th id="307">307</th><td><u>#define <dfn class="macro" id="_M/CONN_INFO" data-ref="_M/CONN_INFO">CONN_INFO</dfn>(_conn) ((struct <a class="type" href="#connection_info" title='connection_info' data-ref="connection_info">connection_info</a> *)((_conn)-&gt;<a class="ref" href="../jobs/jobs.h.html#async_job::j_custom" title='async_job::j_custom' data-ref="async_job::j_custom">j_custom</a>))</u></td></tr>
<tr><th id="308">308</th><td><u>#define <dfn class="macro" id="_M/LISTEN_CONN_INFO" data-ref="_M/LISTEN_CONN_INFO">LISTEN_CONN_INFO</dfn>(_conn) ((struct listening_connection_info *)((_conn)-&gt;j_custom))</u></td></tr>
<tr><th id="309">309</th><td><u>#define <dfn class="macro" id="_M/SOCKET_CONN_INFO" data-ref="_M/SOCKET_CONN_INFO">SOCKET_CONN_INFO</dfn>(_conn) ((struct <a class="type" href="#socket_connection_info" title='socket_connection_info' data-ref="socket_connection_info">socket_connection_info</a> *)((_conn)-&gt;<a class="ref" href="../jobs/jobs.h.html#async_job::j_custom" title='async_job::j_custom' data-ref="async_job::j_custom">j_custom</a>))</u></td></tr>
<tr><th id="310">310</th><td><u>#define <dfn class="macro" id="_M/CONN_TARGET_INFO" data-ref="_M/CONN_TARGET_INFO">CONN_TARGET_INFO</dfn>(_conn_target) ((struct conn_target_info *)((_conn_target)-&gt;j_custom))</u></td></tr>
<tr><th id="311">311</th><td></td></tr>
<tr><th id="312">312</th><td><em>static</em> <b>inline</b> <em>const</em> <em>char</em> *<dfn class="decl def" id="show_ip46" title='show_ip46' data-ref="show_ip46">show_ip46</dfn> (<em>unsigned</em> <dfn class="local col5 decl" id="2015ip" title='ip' data-type='unsigned int' data-ref="2015ip">ip</dfn>, <em>const</em> <em>unsigned</em> <em>char</em> <dfn class="local col6 decl" id="2016ipv6" title='ipv6' data-type='const unsigned char *' data-ref="2016ipv6">ipv6</dfn>[<var>16</var>]) { <b>return</b> <a class="local col5 ref" href="#2015ip" title='ip' data-ref="2015ip">ip</a> ? <a class="ref" href="net-events.h.html#show_ip" title='show_ip' data-ref="show_ip">show_ip</a> (<a class="local col5 ref" href="#2015ip" title='ip' data-ref="2015ip">ip</a>) : <a class="ref" href="net-events.h.html#show_ipv6" title='show_ipv6' data-ref="show_ipv6">show_ipv6</a> (<a class="local col6 ref" href="#2016ipv6" title='ipv6' data-ref="2016ipv6">ipv6</a>); }</td></tr>
<tr><th id="313">313</th><td><em>static</em> <b>inline</b> <em>const</em> <em>char</em> *<dfn class="decl def" id="show_our_ip" title='show_our_ip' data-ref="show_our_ip">show_our_ip</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col7 decl" id="2017c" title='c' data-type='connection_job_t' data-ref="2017c">c</dfn>) { <b>return</b> <a class="ref" href="#show_ip46" title='show_ip46' data-ref="show_ip46">show_ip46</a> (<a class="macro" href="#307" title="((struct connection_info *)((c)-&gt;j_custom))" data-ref="_M/CONN_INFO">CONN_INFO</a>(<a class="local col7 ref" href="#2017c" title='c' data-ref="2017c">c</a>)-&gt;<a class="ref" href="#connection_info::our_ip" title='connection_info::our_ip' data-ref="connection_info::our_ip">our_ip</a>, <a class="macro" href="#307" title="((struct connection_info *)((c)-&gt;j_custom))" data-ref="_M/CONN_INFO">CONN_INFO</a>(<a class="local col7 ref" href="#2017c" title='c' data-ref="2017c">c</a>)-&gt;<a class="ref" href="#connection_info::our_ipv6" title='connection_info::our_ipv6' data-ref="connection_info::our_ipv6">our_ipv6</a>); }</td></tr>
<tr><th id="314">314</th><td><em>static</em> <b>inline</b> <em>const</em> <em>char</em> *<dfn class="decl def" id="show_remote_ip" title='show_remote_ip' data-ref="show_remote_ip">show_remote_ip</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col8 decl" id="2018c" title='c' data-type='connection_job_t' data-ref="2018c">c</dfn>) { <b>return</b> <a class="ref" href="#show_ip46" title='show_ip46' data-ref="show_ip46">show_ip46</a> (<a class="macro" href="#307" title="((struct connection_info *)((c)-&gt;j_custom))" data-ref="_M/CONN_INFO">CONN_INFO</a>(<a class="local col8 ref" href="#2018c" title='c' data-ref="2018c">c</a>)-&gt;<a class="ref" href="#connection_info::remote_ip" title='connection_info::remote_ip' data-ref="connection_info::remote_ip">remote_ip</a>, <a class="macro" href="#307" title="((struct connection_info *)((c)-&gt;j_custom))" data-ref="_M/CONN_INFO">CONN_INFO</a>(<a class="local col8 ref" href="#2018c" title='c' data-ref="2018c">c</a>)-&gt;<a class="ref" href="#connection_info::remote_ipv6" title='connection_info::remote_ipv6' data-ref="connection_info::remote_ipv6">remote_ipv6</a>); }</td></tr>
<tr><th id="315">315</th><td><em>static</em> <b>inline</b> <em>const</em> <em>char</em> *<dfn class="decl def" id="show_our_socket_ip" title='show_our_socket_ip' data-ref="show_our_socket_ip">show_our_socket_ip</dfn> (<a class="typedef" href="#socket_connection_job_t" title='socket_connection_job_t' data-type='job_t' data-ref="socket_connection_job_t">socket_connection_job_t</a> <dfn class="local col9 decl" id="2019c" title='c' data-type='socket_connection_job_t' data-ref="2019c">c</dfn>) { <b>return</b> <a class="ref" href="#show_ip46" title='show_ip46' data-ref="show_ip46">show_ip46</a> (<a class="macro" href="#309" title="((struct socket_connection_info *)((c)-&gt;j_custom))" data-ref="_M/SOCKET_CONN_INFO">SOCKET_CONN_INFO</a>(<a class="local col9 ref" href="#2019c" title='c' data-ref="2019c">c</a>)-&gt;<a class="ref" href="#socket_connection_info::our_ip" title='socket_connection_info::our_ip' data-ref="socket_connection_info::our_ip">our_ip</a>, <a class="macro" href="#309" title="((struct socket_connection_info *)((c)-&gt;j_custom))" data-ref="_M/SOCKET_CONN_INFO">SOCKET_CONN_INFO</a>(<a class="local col9 ref" href="#2019c" title='c' data-ref="2019c">c</a>)-&gt;<a class="ref" href="#socket_connection_info::our_ipv6" title='socket_connection_info::our_ipv6' data-ref="socket_connection_info::our_ipv6">our_ipv6</a>); }</td></tr>
<tr><th id="316">316</th><td><em>static</em> <b>inline</b> <em>const</em> <em>char</em> *<dfn class="decl def" id="show_remote_socket_ip" title='show_remote_socket_ip' data-ref="show_remote_socket_ip">show_remote_socket_ip</dfn> (<a class="typedef" href="#socket_connection_job_t" title='socket_connection_job_t' data-type='job_t' data-ref="socket_connection_job_t">socket_connection_job_t</a> <dfn class="local col0 decl" id="2020c" title='c' data-type='socket_connection_job_t' data-ref="2020c">c</dfn>) { <b>return</b> <a class="ref" href="#show_ip46" title='show_ip46' data-ref="show_ip46">show_ip46</a> (<a class="macro" href="#309" title="((struct socket_connection_info *)((c)-&gt;j_custom))" data-ref="_M/SOCKET_CONN_INFO">SOCKET_CONN_INFO</a>(<a class="local col0 ref" href="#2020c" title='c' data-ref="2020c">c</a>)-&gt;<a class="ref" href="#socket_connection_info::remote_ip" title='socket_connection_info::remote_ip' data-ref="socket_connection_info::remote_ip">remote_ip</a>, <a class="macro" href="#309" title="((struct socket_connection_info *)((c)-&gt;j_custom))" data-ref="_M/SOCKET_CONN_INFO">SOCKET_CONN_INFO</a>(<a class="local col0 ref" href="#2020c" title='c' data-ref="2020c">c</a>)-&gt;<a class="ref" href="#socket_connection_info::remote_ipv6" title='socket_connection_info::remote_ipv6' data-ref="socket_connection_info::remote_ipv6">remote_ipv6</a>); }</td></tr>
<tr><th id="317">317</th><td></td></tr>
<tr><th id="318">318</th><td><em>void</em> <dfn class="decl" id="fetch_connections_stat" title='fetch_connections_stat' data-ref="fetch_connections_stat">fetch_connections_stat</dfn> (<b>struct</b> <a class="type" href="#connections_stat" title='connections_stat' data-ref="connections_stat">connections_stat</a> *<dfn class="local col1 decl" id="2021st" title='st' data-type='struct connections_stat *' data-ref="2021st">st</dfn>);</td></tr>
<tr><th id="319">319</th><td></td></tr>
<tr><th id="320">320</th><td><em>void</em> <dfn class="decl" id="compute_next_reconnect" title='compute_next_reconnect' data-ref="compute_next_reconnect">compute_next_reconnect</dfn> (<a class="typedef" href="#conn_target_job_t" title='conn_target_job_t' data-type='job_t' data-ref="conn_target_job_t">conn_target_job_t</a> <dfn class="local col2 decl" id="2022CT" title='CT' data-type='conn_target_job_t' data-ref="2022CT">CT</dfn>);</td></tr>
<tr><th id="321">321</th><td><em>int</em> <dfn class="decl" id="create_all_outbound_connections" title='create_all_outbound_connections' data-ref="create_all_outbound_connections">create_all_outbound_connections</dfn> (<em>void</em>);</td></tr>
<tr><th id="322">322</th><td><em>int</em> <dfn class="decl" id="clean_unused_target" title='clean_unused_target' data-ref="clean_unused_target">clean_unused_target</dfn> (<a class="typedef" href="#conn_target_job_t" title='conn_target_job_t' data-type='job_t' data-ref="conn_target_job_t">conn_target_job_t</a> <dfn class="local col3 decl" id="2023S" title='S' data-type='conn_target_job_t' data-ref="2023S">S</dfn>);</td></tr>
<tr><th id="323">323</th><td><em>int</em> <dfn class="decl" id="create_new_connections" title='create_new_connections' data-ref="create_new_connections">create_new_connections</dfn> (<a class="typedef" href="#conn_target_job_t" title='conn_target_job_t' data-type='job_t' data-ref="conn_target_job_t">conn_target_job_t</a> <dfn class="local col4 decl" id="2024S" title='S' data-type='conn_target_job_t' data-ref="2024S">S</dfn>);</td></tr>
<tr><th id="324">324</th><td></td></tr>
<tr><th id="325">325</th><td><em>int</em> <dfn class="decl" id="set_connection_timeout" title='set_connection_timeout' data-ref="set_connection_timeout">set_connection_timeout</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col5 decl" id="2025C" title='C' data-type='connection_job_t' data-ref="2025C">C</dfn>, <em>double</em> <dfn class="local col6 decl" id="2026timeout" title='timeout' data-type='double' data-ref="2026timeout">timeout</dfn>);</td></tr>
<tr><th id="326">326</th><td><em>int</em> <dfn class="decl" id="clear_connection_timeout" title='clear_connection_timeout' data-ref="clear_connection_timeout">clear_connection_timeout</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col7 decl" id="2027C" title='C' data-type='connection_job_t' data-ref="2027C">C</dfn>);</td></tr>
<tr><th id="327">327</th><td>  </td></tr>
<tr><th id="328">328</th><td><em>int</em> <dfn class="decl" id="prepare_stats" title='prepare_stats' data-ref="prepare_stats">prepare_stats</dfn> (<em>char</em> *<dfn class="local col8 decl" id="2028buf" title='buf' data-type='char *' data-ref="2028buf">buf</dfn>, <em>int</em> <dfn class="local col9 decl" id="2029size" title='size' data-type='int' data-ref="2029size">size</dfn>);</td></tr>
<tr><th id="329">329</th><td><em>void</em> <dfn class="decl" id="fail_connection" title='fail_connection' data-ref="fail_connection">fail_connection</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col0 decl" id="2030C" title='C' data-type='connection_job_t' data-ref="2030C">C</dfn>, <em>int</em> <dfn class="local col1 decl" id="2031who" title='who' data-type='int' data-ref="2031who">who</dfn>);</td></tr>
<tr><th id="330">330</th><td><em>void</em> <dfn class="decl" id="fail_socket_connection" title='fail_socket_connection' data-ref="fail_socket_connection">fail_socket_connection</dfn> (<a class="typedef" href="#socket_connection_job_t" title='socket_connection_job_t' data-type='job_t' data-ref="socket_connection_job_t">socket_connection_job_t</a> <dfn class="local col2 decl" id="2032C" title='C' data-type='socket_connection_job_t' data-ref="2032C">C</dfn>, <em>int</em> <dfn class="local col3 decl" id="2033who" title='who' data-type='int' data-ref="2033who">who</dfn>);</td></tr>
<tr><th id="331">331</th><td></td></tr>
<tr><th id="332">332</th><td></td></tr>
<tr><th id="333">333</th><td><em>int</em> <dfn class="decl" id="destroy_target" title='destroy_target' data-ref="destroy_target">destroy_target</dfn> (<a class="macro" href="../jobs/jobs.h.html#46" title="int CTJ_tag_int, job_t CTJ" data-ref="_M/JOB_REF_ARG">JOB_REF_ARG</a> (<dfn class="local col4 decl" id="2034CTJ" title='CTJ' data-type='job_t' data-ref="2034CTJ">CTJ</dfn>));</td></tr>
<tr><th id="334">334</th><td><a class="typedef" href="#conn_target_job_t" title='conn_target_job_t' data-type='job_t' data-ref="conn_target_job_t">conn_target_job_t</a> <dfn class="decl" id="create_target" title='create_target' data-ref="create_target">create_target</dfn> (<b>struct</b> <a class="type" href="#conn_target_info" title='conn_target_info' data-ref="conn_target_info">conn_target_info</a> *<dfn class="local col5 decl" id="2035source" title='source' data-type='struct conn_target_info *' data-ref="2035source">source</dfn>, <em>int</em> *<dfn class="local col6 decl" id="2036was_created" title='was_created' data-type='int *' data-ref="2036was_created">was_created</dfn>);</td></tr>
<tr><th id="335">335</th><td><em>void</em> <a class="decl" href="#compute_next_reconnect" title='compute_next_reconnect' data-ref="compute_next_reconnect">compute_next_reconnect</a> (<a class="typedef" href="#conn_target_job_t" title='conn_target_job_t' data-type='job_t' data-ref="conn_target_job_t">conn_target_job_t</a> <dfn class="local col7 decl" id="2037CT" title='CT' data-type='conn_target_job_t' data-ref="2037CT">CT</dfn>);</td></tr>
<tr><th id="336">336</th><td></td></tr>
<tr><th id="337">337</th><td></td></tr>
<tr><th id="338">338</th><td><em>static</em> <b>inline</b> <a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="decl def" id="connection_incref" title='connection_incref' data-ref="connection_incref">connection_incref</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col8 decl" id="2038C" title='C' data-type='connection_job_t' data-ref="2038C">C</dfn>) { <b>return</b> <a class="ref" href="../jobs/jobs.h.html#job_incref" title='job_incref' data-ref="job_incref">job_incref</a> (<a class="local col8 ref" href="#2038C" title='C' data-ref="2038C">C</a>); }</td></tr>
<tr><th id="339">339</th><td><em>static</em> <b>inline</b> <em>void</em> <dfn class="decl def" id="connection_decref" title='connection_decref' data-ref="connection_decref">connection_decref</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col9 decl" id="2039C" title='C' data-type='connection_job_t' data-ref="2039C">C</dfn>) { <a class="ref" href="../jobs/jobs.h.html#job_decref" title='job_decref' data-ref="job_decref">job_decref</a> (<a class="macro" href="../jobs/jobs.h.html#47" title="1, ({ typeof(C) __ptr_v_save = C; C = ((void*)0); __ptr_v_save; })" data-ref="_M/JOB_REF_PASS">JOB_REF_PASS</a> (<a class="local col9 ref" href="#2039C" title='C' data-ref="2039C">C</a>)); }</td></tr>
<tr><th id="340">340</th><td></td></tr>
<tr><th id="341">341</th><td><a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="decl" id="connection_get_by_fd" title='connection_get_by_fd' data-ref="connection_get_by_fd">connection_get_by_fd</dfn> (<em>int</em> <dfn class="local col0 decl" id="2040fd" title='fd' data-type='int' data-ref="2040fd">fd</dfn>);</td></tr>
<tr><th id="342">342</th><td><a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="decl" id="connection_get_by_fd_generation" title='connection_get_by_fd_generation' data-ref="connection_get_by_fd_generation">connection_get_by_fd_generation</dfn> (<em>int</em> <dfn class="local col1 decl" id="2041fd" title='fd' data-type='int' data-ref="2041fd">fd</dfn>, <em>int</em> <dfn class="local col2 decl" id="2042generation" title='generation' data-type='int' data-ref="2042generation">generation</dfn>);</td></tr>
<tr><th id="343">343</th><td></td></tr>
<tr><th id="344">344</th><td><em>int</em> <dfn class="decl" id="cpu_server_reader" title='cpu_server_reader' data-ref="cpu_server_reader">cpu_server_reader</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col3 decl" id="2043C" title='C' data-type='connection_job_t' data-ref="2043C">C</dfn>);</td></tr>
<tr><th id="345">345</th><td><em>int</em> <dfn class="decl" id="cpu_server_writer" title='cpu_server_writer' data-ref="cpu_server_writer">cpu_server_writer</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col4 decl" id="2044C" title='C' data-type='connection_job_t' data-ref="2044C">C</dfn>);</td></tr>
<tr><th id="346">346</th><td><em>int</em> <dfn class="decl" id="cpu_server_read_write" title='cpu_server_read_write' data-ref="cpu_server_read_write">cpu_server_read_write</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col5 decl" id="2045C" title='C' data-type='connection_job_t' data-ref="2045C">C</dfn>);</td></tr>
<tr><th id="347">347</th><td><i>//int cpu_free_tmp_buffers (connection_job_t C);</i></td></tr>
<tr><th id="348">348</th><td><em>int</em> <dfn class="decl" id="cpu_server_free_connection" title='cpu_server_free_connection' data-ref="cpu_server_free_connection">cpu_server_free_connection</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col6 decl" id="2046C" title='C' data-type='connection_job_t' data-ref="2046C">C</dfn>);</td></tr>
<tr><th id="349">349</th><td><em>int</em> <dfn class="decl" id="cpu_free_connection_buffers" title='cpu_free_connection_buffers' data-ref="cpu_free_connection_buffers">cpu_free_connection_buffers</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col7 decl" id="2047C" title='C' data-type='connection_job_t' data-ref="2047C">C</dfn>);</td></tr>
<tr><th id="350">350</th><td><em>int</em> <dfn class="decl" id="cpu_server_close_connection" title='cpu_server_close_connection' data-ref="cpu_server_close_connection">cpu_server_close_connection</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col8 decl" id="2048C" title='C' data-type='connection_job_t' data-ref="2048C">C</dfn>, <em>int</em> <dfn class="local col9 decl" id="2049who" title='who' data-type='int' data-ref="2049who">who</dfn>);</td></tr>
<tr><th id="351">351</th><td></td></tr>
<tr><th id="352">352</th><td></td></tr>
<tr><th id="353">353</th><td><em>int</em> <dfn class="decl" id="net_server_socket_reader" title='net_server_socket_reader' data-ref="net_server_socket_reader">net_server_socket_reader</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col0 decl" id="2050C" title='C' data-type='connection_job_t' data-ref="2050C">C</dfn>);</td></tr>
<tr><th id="354">354</th><td><em>int</em> <dfn class="decl" id="net_server_socket_writer" title='net_server_socket_writer' data-ref="net_server_socket_writer">net_server_socket_writer</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col1 decl" id="2051C" title='C' data-type='connection_job_t' data-ref="2051C">C</dfn>);</td></tr>
<tr><th id="355">355</th><td><em>int</em> <dfn class="decl" id="net_server_socket_read_write" title='net_server_socket_read_write' data-ref="net_server_socket_read_write">net_server_socket_read_write</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col2 decl" id="2052C" title='C' data-type='connection_job_t' data-ref="2052C">C</dfn>);</td></tr>
<tr><th id="356">356</th><td></td></tr>
<tr><th id="357">357</th><td><em>int</em> <dfn class="decl" id="net_accept_new_connections" title='net_accept_new_connections' data-ref="net_accept_new_connections">net_accept_new_connections</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col3 decl" id="2053C" title='C' data-type='connection_job_t' data-ref="2053C">C</dfn>);</td></tr>
<tr><th id="358">358</th><td></td></tr>
<tr><th id="359">359</th><td><em>int</em> <a class="decl" href="#set_connection_timeout" title='set_connection_timeout' data-ref="set_connection_timeout">set_connection_timeout</a> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col4 decl" id="2054C" title='C' data-type='connection_job_t' data-ref="2054C">C</dfn>, <em>double</em> <dfn class="local col5 decl" id="2055timeout" title='timeout' data-type='double' data-ref="2055timeout">timeout</dfn>);</td></tr>
<tr><th id="360">360</th><td><em>int</em> <a class="decl" href="#clear_connection_timeout" title='clear_connection_timeout' data-ref="clear_connection_timeout">clear_connection_timeout</a> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col6 decl" id="2056C" title='C' data-type='connection_job_t' data-ref="2056C">C</dfn>);</td></tr>
<tr><th id="361">361</th><td></td></tr>
<tr><th id="362">362</th><td><em>int</em> <dfn class="decl" id="server_check_ready" title='server_check_ready' data-ref="server_check_ready">server_check_ready</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col7 decl" id="2057C" title='C' data-type='connection_job_t' data-ref="2057C">C</dfn>);</td></tr>
<tr><th id="363">363</th><td><em>int</em> <dfn class="decl" id="server_noop" title='server_noop' data-ref="server_noop">server_noop</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col8 decl" id="2058C" title='C' data-type='connection_job_t' data-ref="2058C">C</dfn>);</td></tr>
<tr><th id="364">364</th><td><em>int</em> <dfn class="decl" id="server_failed" title='server_failed' data-ref="server_failed">server_failed</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col9 decl" id="2059C" title='C' data-type='connection_job_t' data-ref="2059C">C</dfn>);</td></tr>
<tr><th id="365">365</th><td></td></tr>
<tr><th id="366">366</th><td><em>void</em> <dfn class="decl" id="connection_write_close" title='connection_write_close' data-ref="connection_write_close">connection_write_close</dfn> (<a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col0 decl" id="2060C" title='C' data-type='connection_job_t' data-ref="2060C">C</dfn>);</td></tr>
<tr><th id="367">367</th><td><u>#define <dfn class="macro" id="_M/write_out_chk" data-ref="_M/write_out_chk">write_out_chk</dfn>(c,data,len) assert(write_out (&amp;CONN_INFO(c)-&gt;Out, data, len) == len);</u></td></tr>
<tr><th id="368">368</th><td><u>#define <dfn class="macro" id="_M/write_out_old" data-ref="_M/write_out_old">write_out_old</dfn>(c,data,len) write_out(&amp;CONN_INFO(c)-&gt;Out, data, len)</u></td></tr>
<tr><th id="369">369</th><td><u>#define <dfn class="macro" id="_M/read_in_old" data-ref="_M/read_in_old">read_in_old</dfn>(c,data,len) read_in(&amp;CONN_INFO(c)-&gt;In, data, len)</u></td></tr>
<tr><th id="370">370</th><td></td></tr>
<tr><th id="371">371</th><td><em>static</em> <b>inline</b> <em>int</em> <dfn class="decl def" id="is_ipv6_localhost" title='is_ipv6_localhost' data-ref="is_ipv6_localhost">is_ipv6_localhost</dfn> (<em>unsigned</em> <em>char</em> <dfn class="local col1 decl" id="2061ipv6" title='ipv6' data-type='unsigned char *' data-ref="2061ipv6">ipv6</dfn>[<var>16</var>]) {</td></tr>
<tr><th id="372">372</th><td>  <b>return</b> !*(<em>long</em> <em>long</em> *)<a class="local col1 ref" href="#2061ipv6" title='ipv6' data-ref="2061ipv6">ipv6</a> &amp;&amp; ((<em>long</em> <em>long</em> *)<a class="local col1 ref" href="#2061ipv6" title='ipv6' data-ref="2061ipv6">ipv6</a>)[<var>1</var>] == <var>1LL</var> &lt;&lt; <var>56</var>;</td></tr>
<tr><th id="373">373</th><td>}</td></tr>
<tr><th id="374">374</th><td></td></tr>
<tr><th id="375">375</th><td><em>void</em> <dfn class="decl" id="assert_net_cpu_thread" title='assert_net_cpu_thread' data-ref="assert_net_cpu_thread">assert_net_cpu_thread</dfn> (<em>void</em>);</td></tr>
<tr><th id="376">376</th><td><em>void</em> <dfn class="decl" id="assert_net_net_thread" title='assert_net_net_thread' data-ref="assert_net_net_thread">assert_net_net_thread</dfn> (<em>void</em>);</td></tr>
<tr><th id="377">377</th><td><em>void</em> <dfn class="decl" id="assert_engine_thread" title='assert_engine_thread' data-ref="assert_engine_thread">assert_engine_thread</dfn> (<em>void</em>);</td></tr>
<tr><th id="378">378</th><td></td></tr>
<tr><th id="379">379</th><td><a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="decl" id="conn_target_get_connection" title='conn_target_get_connection' data-ref="conn_target_get_connection">conn_target_get_connection</dfn> (<a class="typedef" href="#conn_target_job_t" title='conn_target_job_t' data-type='job_t' data-ref="conn_target_job_t">conn_target_job_t</a> <dfn class="local col2 decl" id="2062CT" title='CT' data-type='conn_target_job_t' data-ref="2062CT">CT</dfn>, <em>int</em> <dfn class="local col3 decl" id="2063allow_stopped" title='allow_stopped' data-type='int' data-ref="2063allow_stopped">allow_stopped</dfn>);</td></tr>
<tr><th id="380">380</th><td>      </td></tr>
<tr><th id="381">381</th><td><em>void</em> <dfn class="decl" id="insert_connection_into_target" title='insert_connection_into_target' data-ref="insert_connection_into_target">insert_connection_into_target</dfn> (<a class="typedef" href="#conn_target_job_t" title='conn_target_job_t' data-type='job_t' data-ref="conn_target_job_t">conn_target_job_t</a> <dfn class="local col4 decl" id="2064SS" title='SS' data-type='conn_target_job_t' data-ref="2064SS">SS</dfn>, <a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col5 decl" id="2065C" title='C' data-type='connection_job_t' data-ref="2065C">C</dfn>);</td></tr>
<tr><th id="382">382</th><td><b>struct</b> <a class="type" href="#tree_connection" title='tree_connection' data-ref="tree_connection">tree_connection</a> *<dfn class="decl" id="get_connection_tree" title='get_connection_tree' data-ref="get_connection_tree">get_connection_tree</dfn> (<a class="typedef" href="#conn_target_job_t" title='conn_target_job_t' data-type='job_t' data-ref="conn_target_job_t">conn_target_job_t</a> <dfn class="local col6 decl" id="2066SS" title='SS' data-type='conn_target_job_t' data-ref="2066SS">SS</dfn>);</td></tr>
<tr><th id="383">383</th><td><i>//void wakeup_main_thread (void);</i></td></tr>
<tr><th id="384">384</th><td></td></tr>
<tr><th id="385">385</th><td><em>void</em> <dfn class="decl" id="delete_connection_tree_ptr" title='delete_connection_tree_ptr' data-ref="delete_connection_tree_ptr">delete_connection_tree_ptr</dfn> (<b>struct</b> <a class="type" href="#tree_connection" title='tree_connection' data-ref="tree_connection">tree_connection</a> *<dfn class="local col7 decl" id="2067T" title='T' data-type='struct tree_connection *' data-ref="2067T">T</dfn>);</td></tr>
<tr><th id="386">386</th><td></td></tr>
<tr><th id="387">387</th><td><em>int</em> <dfn class="decl" id="init_listening_connection_ext" title='init_listening_connection_ext' data-ref="init_listening_connection_ext">init_listening_connection_ext</dfn> (<em>int</em> <dfn class="local col8 decl" id="2068fd" title='fd' data-type='int' data-ref="2068fd">fd</dfn>, <a class="typedef" href="#conn_type_t" title='conn_type_t' data-type='struct conn_functions' data-ref="conn_type_t">conn_type_t</a> *<dfn class="local col9 decl" id="2069type" title='type' data-type='conn_type_t *' data-ref="2069type">type</dfn>, <em>void</em> *<dfn class="local col0 decl" id="2070extra" title='extra' data-type='void *' data-ref="2070extra">extra</dfn>, <em>int</em> <dfn class="local col1 decl" id="2071mode" title='mode' data-type='int' data-ref="2071mode">mode</dfn>, <em>int</em> <dfn class="local col2 decl" id="2072prio" title='prio' data-type='int' data-ref="2072prio">prio</dfn>);</td></tr>
<tr><th id="388">388</th><td><em>int</em> <dfn class="decl" id="init_listening_connection" title='init_listening_connection' data-ref="init_listening_connection">init_listening_connection</dfn> (<em>int</em> <dfn class="local col3 decl" id="2073fd" title='fd' data-type='int' data-ref="2073fd">fd</dfn>, <a class="typedef" href="#conn_type_t" title='conn_type_t' data-type='struct conn_functions' data-ref="conn_type_t">conn_type_t</a> *<dfn class="local col4 decl" id="2074type" title='type' data-type='conn_type_t *' data-ref="2074type">type</dfn>, <em>void</em> *<dfn class="local col5 decl" id="2075extra" title='extra' data-type='void *' data-ref="2075extra">extra</dfn>);</td></tr>
<tr><th id="389">389</th><td><em>int</em> <dfn class="decl" id="init_listening_tcpv6_connection" title='init_listening_tcpv6_connection' data-ref="init_listening_tcpv6_connection">init_listening_tcpv6_connection</dfn> (<em>int</em> <dfn class="local col6 decl" id="2076fd" title='fd' data-type='int' data-ref="2076fd">fd</dfn>, <a class="typedef" href="#conn_type_t" title='conn_type_t' data-type='struct conn_functions' data-ref="conn_type_t">conn_type_t</a> *<dfn class="local col7 decl" id="2077type" title='type' data-type='conn_type_t *' data-ref="2077type">type</dfn>, <em>void</em> *<dfn class="local col8 decl" id="2078extra" title='extra' data-type='void *' data-ref="2078extra">extra</dfn>, <em>int</em> <dfn class="local col9 decl" id="2079mode" title='mode' data-type='int' data-ref="2079mode">mode</dfn>);</td></tr>
<tr><th id="390">390</th><td></td></tr>
<tr><th id="391">391</th><td><i>//struct tree_connection *get_connection_tree_ptr (struct tree_connection **);</i></td></tr>
<tr><th id="392">392</th><td><i>//void free_connection_tree_ptr (struct tree_connection *);</i></td></tr>
<tr><th id="393">393</th><td></td></tr>
<tr><th id="394">394</th><td><b>struct</b> <dfn class="type def" id="free_later" title='free_later' data-ref="free_later">free_later</dfn> {</td></tr>
<tr><th id="395">395</th><td>  <em>void</em> *<dfn class="decl" id="free_later::ptr" title='free_later::ptr' data-ref="free_later::ptr">ptr</dfn>;</td></tr>
<tr><th id="396">396</th><td>  <em>void</em> (*<dfn class="decl" id="free_later::free" title='free_later::free' data-ref="free_later::free">free</dfn>)(<em>void</em> *);</td></tr>
<tr><th id="397">397</th><td>};</td></tr>
<tr><th id="398">398</th><td></td></tr>
<tr><th id="399">399</th><td></td></tr>
<tr><th id="400">400</th><td><b>struct</b> <dfn class="type def" id="query_info" title='query_info' data-ref="query_info">query_info</dfn> {</td></tr>
<tr><th id="401">401</th><td>  <b>struct</b> <a class="type" href="net-timers.h.html#event_timer" title='event_timer' data-ref="event_timer">event_timer</a> <dfn class="decl" id="query_info::ev" title='query_info::ev' data-ref="query_info::ev">ev</dfn>;</td></tr>
<tr><th id="402">402</th><td>  <b>struct</b> <a class="type" href="net-msg.h.html#raw_message" title='raw_message' data-ref="raw_message">raw_message</a> <dfn class="decl" id="query_info::raw" title='query_info::raw' data-ref="query_info::raw">raw</dfn>;</td></tr>
<tr><th id="403">403</th><td>  <em>int</em> <dfn class="decl" id="query_info::src_type" title='query_info::src_type' data-ref="query_info::src_type">src_type</dfn>;</td></tr>
<tr><th id="404">404</th><td>  <b>struct</b> <a class="type" href="../common/pid.h.html#process_id" title='process_id' data-ref="process_id">process_id</a> <dfn class="decl" id="query_info::src_pid" title='query_info::src_pid' data-ref="query_info::src_pid">src_pid</dfn>;</td></tr>
<tr><th id="405">405</th><td>  <em>void</em> *<dfn class="decl" id="query_info::conn" title='query_info::conn' data-ref="query_info::conn">conn</dfn>;</td></tr>
<tr><th id="406">406</th><td>};</td></tr>
<tr><th id="407">407</th><td></td></tr>
<tr><th id="408">408</th><td><em>void</em> <dfn class="decl" id="free_later_act" title='free_later_act' data-ref="free_later_act">free_later_act</dfn> (<em>void</em>);</td></tr>
<tr><th id="409">409</th><td></td></tr>
<tr><th id="410">410</th><td><em>void</em> <dfn class="decl" id="incr_active_dh_connections" title='incr_active_dh_connections' data-ref="incr_active_dh_connections">incr_active_dh_connections</dfn> (<em>void</em>);</td></tr>
<tr><th id="411">411</th><td><em>int</em> <dfn class="decl" id="check_conn_functions" title='check_conn_functions' data-ref="check_conn_functions">check_conn_functions</dfn> (<a class="typedef" href="#conn_type_t" title='conn_type_t' data-type='struct conn_functions' data-ref="conn_type_t">conn_type_t</a> *<dfn class="local col0 decl" id="2080type" title='type' data-type='conn_type_t *' data-ref="2080type">type</dfn>, <em>int</em> <dfn class="local col1 decl" id="2081listening" title='listening' data-type='int' data-ref="2081listening">listening</dfn>);</td></tr>
<tr><th id="412">412</th><td></td></tr>
<tr><th id="413">413</th><td><u>#define <dfn class="macro" id="_M/QUERY_INFO" data-ref="_M/QUERY_INFO">QUERY_INFO</dfn>(_c) ((struct query_info *)(_c)-&gt;j_custom)</u></td></tr>
<tr><th id="414">414</th><td><em>void</em> <dfn class="decl" id="insert_free_later_struct" title='insert_free_later_struct' data-ref="insert_free_later_struct">insert_free_later_struct</dfn> (<b>struct</b> <a class="type" href="#free_later" title='free_later' data-ref="free_later">free_later</a> *<dfn class="local col2 decl" id="2082F" title='F' data-type='struct free_later *' data-ref="2082F">F</dfn>);</td></tr>
<tr><th id="415">415</th><td><em>int</em> <dfn class="decl" id="new_conn_generation" title='new_conn_generation' data-ref="new_conn_generation">new_conn_generation</dfn> (<em>void</em>);</td></tr>
<tr><th id="416">416</th><td><em>int</em> <dfn class="decl" id="get_cur_conn_generation" title='get_cur_conn_generation' data-ref="get_cur_conn_generation">get_cur_conn_generation</dfn> (<em>void</em>);</td></tr>
<tr><th id="417">417</th><td></td></tr>
<tr><th id="418">418</th><td><em>void</em> <dfn class="decl" id="tcp_set_max_accept_rate" title='tcp_set_max_accept_rate' data-ref="tcp_set_max_accept_rate">tcp_set_max_accept_rate</dfn> (<em>int</em> <dfn class="local col3 decl" id="2083rate" title='rate' data-type='int' data-ref="2083rate">rate</dfn>);</td></tr>
<tr><th id="419">419</th><td><em>void</em> <dfn class="decl" id="tcp_set_max_connections" title='tcp_set_max_connections' data-ref="tcp_set_max_connections">tcp_set_max_connections</dfn> (<em>int</em> <dfn class="local col4 decl" id="2084maxconn" title='maxconn' data-type='int' data-ref="2084maxconn">maxconn</dfn>);</td></tr>
<tr><th id="420">420</th><td></td></tr>
<tr><th id="421">421</th><td><b>extern</b> <em>int</em> <dfn class="decl" id="max_special_connections" title='max_special_connections' data-ref="max_special_connections">max_special_connections</dfn>, <dfn class="decl" id="active_special_connections" title='active_special_connections' data-ref="active_special_connections">active_special_connections</dfn>;</td></tr>
<tr><th id="422">422</th><td></td></tr>
<tr><th id="423">423</th><td><u>#define <dfn class="macro" id="_M/MAX_NAT_INFO_RULES" data-ref="_M/MAX_NAT_INFO_RULES">MAX_NAT_INFO_RULES</dfn>	16</u></td></tr>
<tr><th id="424">424</th><td><b>extern</b> <em>int</em> <dfn class="decl" id="nat_info_rules" title='nat_info_rules' data-ref="nat_info_rules">nat_info_rules</dfn>;</td></tr>
<tr><th id="425">425</th><td><b>extern</b> <em>unsigned</em> <dfn class="decl" id="nat_info" title='nat_info' data-ref="nat_info">nat_info</dfn>[<a class="macro" href="#423" title="16" data-ref="_M/MAX_NAT_INFO_RULES">MAX_NAT_INFO_RULES</a>][<var>2</var>];</td></tr>
<tr><th id="426">426</th><td></td></tr>
<tr><th id="427">427</th><td><em>int</em> <dfn class="decl" id="net_add_nat_info" title='net_add_nat_info' data-ref="net_add_nat_info">net_add_nat_info</dfn> (<em>char</em> *<dfn class="local col5 decl" id="2085str" title='str' data-type='char *' data-ref="2085str">str</dfn>);</td></tr>
<tr><th id="428">428</th><td><em>unsigned</em> <dfn class="decl" id="nat_translate_ip" title='nat_translate_ip' data-ref="nat_translate_ip">nat_translate_ip</dfn> (<em>unsigned</em> <dfn class="local col6 decl" id="2086local_ip" title='local_ip' data-type='unsigned int' data-ref="2086local_ip">local_ip</dfn>);</td></tr>
<tr><th id="429">429</th><td></td></tr>
<tr><th id="430">430</th><td><a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="decl" id="alloc_new_connection" title='alloc_new_connection' data-ref="alloc_new_connection">alloc_new_connection</dfn> (<em>int</em> <dfn class="local col7 decl" id="2087cfd" title='cfd' data-type='int' data-ref="2087cfd">cfd</dfn>, <a class="typedef" href="#conn_target_job_t" title='conn_target_job_t' data-type='job_t' data-ref="conn_target_job_t">conn_target_job_t</a> <dfn class="local col8 decl" id="2088SS" title='SS' data-type='conn_target_job_t' data-ref="2088SS">SS</dfn>, <a class="typedef" href="#connection_job_t" title='connection_job_t' data-type='job_t' data-ref="connection_job_t">connection_job_t</a> <dfn class="local col9 decl" id="2089LL" title='LL' data-type='connection_job_t' data-ref="2089LL">LL</dfn>, <em>unsigned</em> <dfn class="local col0 decl" id="2090peer" title='peer' data-type='unsigned int' data-ref="2090peer">peer</dfn>, <em>unsigned</em> <em>char</em> <dfn class="local col1 decl" id="2091peer_ipv6" title='peer_ipv6' data-type='unsigned char *' data-ref="2091peer_ipv6">peer_ipv6</dfn>[<var>16</var>], <em>int</em> <dfn class="local col2 decl" id="2092peer_port" title='peer_port' data-type='int' data-ref="2092peer_port">peer_port</dfn>);</td></tr>
<tr><th id="431">431</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../common/common-stats.c.html'>MTProxy/common/common-stats.c</a><br/>Generated on <em>2018-Jun-02</em> from project MTProxy revision <em>842f343decf6c463bdecf1862e357c4a03e4bc97</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
